{"version":3,"sources":["utils/services/ColorGenerator.js","common/NotFound.js","utils/services/ShlinkApiClient.js","utils/utils.js","common/services/provideServices.js","common/ScrollToTop.js","common/MainHeader.js","common/shlink-logo-white.png","common/Home.js","common/MenuLayout.js","common/AsideMenu.js","common/ErrorHandler.js","utils/services/provideServices.js","utils/services/Storage.js","utils/services/ShlinkApiClientBuilder.js","servers/prop-types/index.js","registerServiceWorker.js","App.js","short-urls/Paginator.js","short-urls/ShortUrls.js","utils/SearchField.js","tags/helpers/Tag.js","utils/DateInput.js","utils/DateRangeRow.js","short-urls/reducers/shortUrlTags.js","short-urls/reducers/shortUrlDeletion.js","short-urls/reducers/shortUrlMeta.js","short-urls/reducers/shortUrlsList.js","short-urls/reducers/shortUrlsListParams.js","short-urls/SearchBar.js","utils/SortingDropdown.js","short-urls/ShortUrlsList.js","short-urls/helpers/VisitStatsLink.js","short-urls/helpers/ShortUrlVisitsCount.js","short-urls/helpers/ShortUrlsRow.js","short-urls/helpers/PreviewModal.js","short-urls/helpers/QrCodeModal.js","short-urls/helpers/ShortUrlsRowMenu.js","utils/Checkbox.js","short-urls/reducers/shortUrlCreation.js","short-urls/UseExistingIfFoundInfoIcon.js","short-urls/CreateShortUrl.js","short-urls/helpers/DeleteShortUrlModal.js","short-urls/helpers/EditTagsModal.js","short-urls/helpers/EditMetaModal.js","short-urls/helpers/CreateShortUrlResult.js","short-urls/services/provideServices.js","servers/CreateServer.js","servers/ServersDropdown.js","servers/DeleteServerModal.js","servers/DeleteServerButton.js","servers/helpers/ImportServersBtn.js","servers/reducers/selectedServer.js","servers/reducers/server.js","servers/helpers/ForServerVersion.js","servers/services/ServersImporter.js","servers/services/ServersService.js","servers/services/ServersExporter.js","servers/services/provideServices.js","utils/MuttedMessage.js","utils/PaginationDropdown.js","common/SimplePaginator.js","visits/GraphCard.js","visits/SortableBarGraph.js","visits/reducers/shortUrlVisits.js","visits/reducers/shortUrlDetail.js","visits/VisitsHeader.js","visits/ShortUrlVisits.js","visits/helpers/OpenMapModalBtn.js","visits/helpers/MapModal.js","visits/services/VisitsParser.js","visits/services/provideServices.js","tags/helpers/TagBullet.js","tags/helpers/TagsSelector.js","tags/TagCard.js","tags/reducers/tagDelete.js","tags/helpers/DeleteTagConfirmModal.js","tags/helpers/EditTagModal.js","tags/TagsList.js","tags/reducers/tagEdit.js","tags/reducers/tagsList.js","tags/services/provideServices.js","container/index.js","reducers/index.js","container/store.js","index.js"],"names":["floor","Math","random","normalizeKey","key","toLowerCase","trim","ColorGenerator","storage","getColorForKey","normalizedKey","color","colors","setColorForKey","rangeOf","length","join","set","this","get","PropTypes","shape","func","NotFound","to","btnText","className","i","apiErrorType","type","string","detail","title","status","number","error","message","buildShlinkBaseUrl","url","apiVersion","rejectNilProps","reject","isNil","ShlinkApiClient","axios","baseUrl","apiKey","listShortUrls","options","_performRequest","then","resp","data","shortUrls","createShortUrl","filteredOptions","value","isEmpty","getShortUrlVisits","shortCode","query","visits","getShortUrl","domain","deleteShortUrl","updateShortUrlTags","tags","updateShortUrlMeta","meta","listTags","deleteTags","editTag","oldName","newName","health","method","body","_baseUrl","_apiVersion","headers","_apiKey","params","paramsSerializer","qs","stringify","arrayFormat","response","ceil","stateFlagTimeout","setTimeout","setState","flagName","initialValue","delay","determineOrderDir","clickedField","currentOrderField","currentOrderDir","ASC","DESC","undefined","fixLeafletIcons","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","marker2x","iconUrl","marker","shadowUrl","markerShadow","size","mappingFn","startAt","range","map","roundTen","useToggle","useState","flag","setFlag","wait","milliseconds","Promise","resolve","compareVersions","firstVersion","operator","secondVersion","compare","versionIsValidSemVer","version","e","formatDate","format","date","formatIsoDate","provideServices","bottle","connect","withRouter","constant","global","window","console","serviceFactory","ScrollToTop","decorator","MainHeader","Home","MenuLayout","AsideMenu","ErrorHandler","scrollTo","prevLocation","location","props","children","React","Component","ServersDropdown","state","isOpen","handleToggle","prevProps","toggleClass","classnames","dark","fixed","expand","tag","Link","src","shlinkLogo","alt","onClick","icon","arrowIcon","navbar","active","pathname","plusIcon","module","exports","resetSelectedServer","servers","list","loading","values","hasServers","name","id","chevronIcon","TagsList","ShortUrls","CreateShortUrl","ShortUrlVisits","showSideBar","match","selectServer","serverId","selectedServer","burgerClasses","swipeMenuIfNoModalExists","document","querySelector","Fragment","burgerIcon","delta","onSwipedLeft","onSwipedRight","showOnMobile","exact","path","component","render","defaultProps","DeleteServerButton","asideClass","activeClassName","isActive","listIcon","createIcon","flip","tagsIcon","server","hasError","outline","reload","localStorage","service","Storage","buildShlinkApiClient","buildPath","item","getItem","JSON","parse","setItem","apiClients","getSelectedServerFromState","getState","getStateOrSelectedServer","clientKey","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","App","CreateServer","Paginator","paginator","currentPage","pagesCount","Pagination","listClassName","PaginationItem","disabled","PaginationLink","previous","pageNumber","next","SearchBar","ShortUrlsList","object","shortUrlsList","page","pagination","urlsListKey","SearchField","showClearBtn","searchTerm","timer","timeout","resetTimer","clearTimeout","onChange","placeholder","classNames","searchTermChanged","target","searchIcon","hidden","Tag","text","clearable","colorGenerator","onClose","style","backgroundColor","cursor","DateInput","isClearable","selected","ref","createRef","showCalendarIcon","dateFormat","readOnly","calendarIcon","current","input","focus","DateRangeRow","startDate","endDate","onStartDateChange","onEndDateChange","placeholderText","maxDate","minDate","arrayOf","isRequired","saving","bool","initialState","handleActions","editShortUrlTags","dispatch","normalizedTags","resetShortUrlsTags","createAction","SHORT_URL_DELETED","errorData","resetDeleteShortUrl","shortUrlMetaType","validSince","validUntil","maxVisits","editShortUrlMeta","resetShortUrlMeta","LIST_SHORT_URLS_START","LIST_SHORT_URLS_ERROR","LIST_SHORT_URLS","shortUrlType","shortUrl","longUrl","visitsCount","shortUrlMatches","setPropFromActionOnMatchingShortUrl","prop","propValue","assocPath","assoc","orderBy","resetShortUrlParams","dateOrUndefined","moment","ForServerVersion","shortUrlsListParams","selectedTags","setDate","dateName","pipe","minVersion","filter","selectedTag","SortingDropdown","items","orderField","orderDir","isButton","right","handleItemClick","fieldKey","newOrderDir","UncontrolledDropdown","DropdownToggle","caret","DropdownMenu","toPairs","fieldValue","DropdownItem","sortAscIcon","sortDescIcon","divider","SORTABLE_FIELDS","dateCreated","ShortUrlsRow","refreshList","extraParams","handleOrderBy","orderByColumn","columnName","renderOrderIcon","field","caretUpIcon","caretDownIcon","head","keys","search","ignoreQueryPrefix","colSpan","renderShortUrls","buildVisitsUrl","VisitStatsLink","rest","ShortUrlVisitsCount","visitsLink","infoIcon","UncontrolledTooltip","placement","ShortUrlsRowMenu","copiedToClipboard","data-th","href","renderTags","onCopyToClipboard","bind","PreviewModal","toggle","Modal","ModalHeader","ModalBody","QrCodeModal","centered","DeleteShortUrlModal","EditTagsModal","EditMetaModal","isQrModalOpen","isPreviewModalOpen","isTagsModalOpen","isMetaModalOpen","isDeleteModalOpen","completeShortUrl","toggleModal","prevState","toggleQrCode","togglePreview","toggleTags","toggleMeta","toggleDelete","ButtonDropdown","menuIcon","pieChartIcon","fixedWidth","editIcon","deleteIcon","maxVersion","pictureIcon","qrIcon","onCopy","copyIcon","Checkbox","checked","uuid","display","htmlFor","result","resetCreateShortUrl","UseExistingIfFoundInfoIcon","isModalOpen","normalizeTag","replace","TagsSelector","CreateShortUrlResult","customSlug","findIfExists","moreOptionsVisible","shortUrlCreationResult","renderOptionalInput","FormGroup","Input","renderDateInput","currentServerVersion","disableDomain","onSubmit","preventDefault","dissoc","required","Collapse","min","upIcon","downIcon","inputValue","handleDeleteUrl","identity","shortUrlDeletion","errorCode","hasThresholdError","hasErrorOtherThanThreshold","close","threshold","ModalFooter","saveTags","shortUrlTags","shortUrlMeta","setValidSince","setValidUntil","setMaxVisits","parseInt","showCopyTooltip","Card","inverse","CardBody","Tooltip","reduxConnect","ImportServersBtn","serversImported","handleSubmit","createServer","push","history","renderInputGroup","onImport","serversExporter","renderServers","loadServer","exportServers","componentDidMount","listServers","nav","inNavbar","DeleteServerModal","deleteServer","serversImporter","fileRef","importServersFromFile","createServers","click","accept","files","findServerById","FETCH_SERVERS","assocId","localList","getDataAsArrayWithIds","Array","isArray","Error","homepage","remoteList","reduce","listServersAction","matchesMinVersion","matchesMaxVersion","ServersImporter","csvjson","file","reader","FileReader","addEventListener","content","toObject","readAsText","ServersService","allServers","serversObj","saveCsv","csv","blob","Blob","msSaveBlob","link","createElement","URL","createObjectURL","setAttribute","visibility","appendChild","removeChild","ServersExporter","serversService","toCSV","MutedMessage","marginSize","cardClasses","PaginationDropdown","toggleClassName","ranges","setValue","itemsPerPage","Infinity","SimplePaginator","setCurrentPage","pageCount","pages","max","unshift","index","dropLabelIfHidden","label","startsWith","GraphCard","footer","isBarChart","stats","CardHeader","HorizontalBar","Doughnut","labels","legend","position","scales","xAxes","ticks","beginAtZero","tooltips","intersect","yLabel","graphData","datasets","borderColor","borderWidth","generateGraphData","height","renderGraph","CardFooter","toLowerIfString","toLower","pickValueFromPair","SortableBarGraph","sortingItems","pairs","sortedPairs","sortBy","directionalPairs","reverse","currentPageStats","fromPairs","splitEvery","determineCurrentPagePairs","renderPagination","firstPageLength","extraHeaderContent","withPagination","determineStats","activeCities","array","loadingLarge","cancelLoad","isLastPage","loadVisits","parallelRequestsCount","parallelStartingPage","pagesRange","pagesBlocks","loadPagesBlocks","concat","shortUrlVisits","loadVisitsInParallel","all","flatten","cancelGetShortUrlVisits","getShortUrlDetail","VisitsHeader","shortUrlDetail","shortLink","longLink","fromNow","OpenMapModalBtn","processStatsFromVisits","loadDetail","mapObjIndexed","memoizationId","timeWhenMounted","Date","getTime","dateField","preloader","spin","os","browsers","referrers","countries","cities","citiesForMap","mapLocations","amount","modalTitle","locations","renderVisitsContent","PureComponent","MapModal","mapIsOpened","setMapIsOpened","dropdownIsOpened","setDropdownIsOpened","locationsToShow","setLocationsToShow","buttonRef","openMapWithLocations","filtered","cityName","includes","filterLocations","mapIcon","Dropdown","OpenStreetMapTile","TileLayer","attribution","contentClassName","Map","bounds","zoom","center","latLong","calculateMapProps","count","Marker","Popup","visitLocationHasProperty","visitLocation","propertyName","updateLocationsStatsForVisit","updateCountriesStatsForVisit","updateCitiesStatsForVisit","memoizeWith","visit","osStats","userAgent","lowerUserAgent","indexOf","osFromUserAgent","updateOsStatsForVisit","browsersStats","browser","browserFromUserAgent","updateBrowsersStatsForVisit","referrersStats","referer","split","updateReferrersStatsForVisit","citiesForMapStats","latitude","longitude","currentCity","parseFloat","updateCitiesForMapForVisit","visitsParser","TagBullet","tagsList","inputProps","onlyUnique","renderTag","onRemove","classNameRemove","getTagDisplayValue","other","renderInput","addTag","otherProps","inputLength","suggestions","slice","highlightFirstSuggestion","shouldRenderSuggestions","getSuggestionValue","suggestion","renderSuggestion","onSuggestionSelected","onSuggestionsClearRequested","onSuggestionsFetchRequested","addOnBlur","TagCard","DeleteTagConfirmModal","EditTagModal","isEditModalOpen","currentServerId","toggleEdit","deleting","deleteTag","tagDeleted","doDelete","tagWasDeleted","handleOnClosed","tagDelete","onClosed","saveTag","tagWasEdited","tagEdited","showColorPicker","tagEdit","toggleColorPicker","colorIcon","Popover","disableAlpha","hex","editing","forceListTags","tagsCount","filteredTags","tagsGroups","group","filterTags","renderContent","action","pick","LIST_TAGS_START","LIST_TAGS_ERROR","LIST_TAGS","renameTag","rejectTag","tagToReject","sort","listTagsActionFactory","force","factory","Bottle","container","mapActionService","actionName","serviceName","lazyService","propsFromState","actionServiceNames","provideCommonServices","provideShortUrlsServices","provideServersServices","provideTagsServices","provideVisitsServices","provideUtilsServices","combineReducers","serversReducer","selectedServerReducer","shortUrlsListReducer","shortUrlsListParamsReducer","shortUrlCreationReducer","shortUrlDeletionReducer","shortUrlTagsReducer","shortUrlMetaReducer","shortUrlVisitsReducer","shortUrlDetailReducer","tagsListReducer","tagDeleteReducer","tagEditReducer","composeEnhancers","compose","store","createStore","reducers","applyMiddleware","ReduxThunk","basename","getElementById","process","origin","fetch","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.4e201300.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { rangeOf } from '../utils';\n\nconst HEX_COLOR_LENGTH = 6;\nconst { floor, random } = Math;\nconst letters = '0123456789ABCDEF';\nconst buildRandomColor = () =>\n  `#${rangeOf(HEX_COLOR_LENGTH, () => letters[floor(random() * letters.length)]).join('')}`;\nconst normalizeKey = (key) => key.toLowerCase().trim();\n\nexport default class ColorGenerator {\n  constructor(storage) {\n    this.storage = storage;\n    this.colors = this.storage.get('colors') || {};\n  }\n\n  getColorForKey = (key) => {\n    const normalizedKey = normalizeKey(key);\n    const color = this.colors[normalizedKey];\n\n    // If a color has not been set yet, generate a random one and save it\n    if (!color) {\n      return this.setColorForKey(normalizedKey, buildRandomColor());\n    }\n\n    return color;\n  };\n\n  setColorForKey = (key, color) => {\n    const normalizedKey = normalizeKey(key);\n\n    this.colors[normalizedKey] = color;\n    this.storage.set('colors', this.colors);\n\n    return color;\n  }\n}\n\nexport const colorGeneratorType = PropTypes.shape({\n  getColorForKey: PropTypes.func,\n  setColorForKey: PropTypes.func,\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as PropTypes from 'prop-types';\n\nconst propTypes = {\n  to: PropTypes.string,\n  btnText: PropTypes.string,\n};\n\nconst NotFound = ({ to = '/', btnText = 'Home' }) => (\n  <div className=\"home\">\n    <h2>Oops! We could not find requested route.</h2>\n    <p>\n      Use your browser{'\\''}s back button to navigate to the page you have previously come from, or just press this button.\n    </p>\n    <br />\n    <Link to={to} className=\"btn btn-outline-primary btn-lg\">{btnText}</Link>\n  </div>\n);\n\nNotFound.propTypes = propTypes;\n\nexport default NotFound;\n","import qs from 'qs';\nimport { isEmpty, isNil, reject } from 'ramda';\nimport PropTypes from 'prop-types';\n\nexport const apiErrorType = PropTypes.shape({\n  type: PropTypes.string,\n  detail: PropTypes.string,\n  title: PropTypes.string,\n  status: PropTypes.number,\n  error: PropTypes.string, // Deprecated\n  message: PropTypes.string, // Deprecated\n});\n\nconst buildShlinkBaseUrl = (url, apiVersion) => url ? `${url}/rest/v${apiVersion}` : '';\nconst rejectNilProps = reject(isNil);\n\nexport default class ShlinkApiClient {\n  constructor(axios, baseUrl, apiKey) {\n    this.axios = axios;\n    this._apiVersion = 2;\n    this._baseUrl = baseUrl;\n    this._apiKey = apiKey || '';\n  }\n\n  listShortUrls = (options = {}) =>\n    this._performRequest('/short-urls', 'GET', options).then((resp) => resp.data.shortUrls);\n\n  createShortUrl = (options) => {\n    const filteredOptions = reject((value) => isEmpty(value) || isNil(value), options);\n\n    return this._performRequest('/short-urls', 'POST', {}, filteredOptions)\n      .then((resp) => resp.data);\n  };\n\n  getShortUrlVisits = (shortCode, query) =>\n    this._performRequest(`/short-urls/${shortCode}/visits`, 'GET', query)\n      .then((resp) => resp.data.visits);\n\n  getShortUrl = (shortCode, domain) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'GET', { domain })\n      .then((resp) => resp.data);\n\n  deleteShortUrl = (shortCode, domain) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'DELETE', { domain })\n      .then(() => ({}));\n\n  updateShortUrlTags = (shortCode, domain, tags) =>\n    this._performRequest(`/short-urls/${shortCode}/tags`, 'PUT', { domain }, { tags })\n      .then((resp) => resp.data.tags);\n\n  updateShortUrlMeta = (shortCode, domain, meta) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'PATCH', { domain }, meta)\n      .then(() => meta);\n\n  listTags = () =>\n    this._performRequest('/tags', 'GET')\n      .then((resp) => resp.data.tags.data);\n\n  deleteTags = (tags) =>\n    this._performRequest('/tags', 'DELETE', { tags })\n      .then(() => ({ tags }));\n\n  editTag = (oldName, newName) =>\n    this._performRequest('/tags', 'PUT', {}, { oldName, newName })\n      .then(() => ({ oldName, newName }));\n\n  health = () => this._performRequest('/health', 'GET').then((resp) => resp.data);\n\n  _performRequest = async (url, method = 'GET', query = {}, body = {}) => {\n    try {\n      return await this.axios({\n        method,\n        url: `${buildShlinkBaseUrl(this._baseUrl, this._apiVersion)}${url}`,\n        headers: { 'X-Api-Key': this._apiKey },\n        params: rejectNilProps(query),\n        data: body,\n        paramsSerializer: (params) => qs.stringify(params, { arrayFormat: 'brackets' }),\n      });\n    } catch (e) {\n      const { response } = e;\n\n      // Due to a bug on all previous Shlink versions, requests to non-matching URLs will always result on a CORS error\n      // when performed from the browser (due to the preflight request not returning a 2xx status.\n      // See https://github.com/shlinkio/shlink/issues/614), which will make the \"response\" prop not to be set here.\n      // The bug will be fixed on upcoming Shlink patches, but for other versions, we can consider this situation as\n      // if a request has been performed to a not supported API version.\n      const apiVersionIsNotSupported = !response;\n\n      // When the request is not invalid or we have already tried both API versions, throw the error and let the\n      // caller handle it\n      if (!apiVersionIsNotSupported || this._apiVersion === 1) {\n        throw e;\n      }\n\n      this._apiVersion = 1;\n\n      return await this._performRequest(url, method, query, body);\n    }\n  }\n}\n","import L from 'leaflet';\nimport marker2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport marker from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { range } from 'ramda';\nimport { useState } from 'react';\nimport { compare } from 'compare-versions';\n\nconst TEN_ROUNDING_NUMBER = 10;\nconst DEFAULT_TIMEOUT_DELAY = 2000;\nconst { ceil } = Math;\n\nexport const stateFlagTimeout = (setTimeout) => (\n  setState,\n  flagName,\n  initialValue = true,\n  delay = DEFAULT_TIMEOUT_DELAY\n) => {\n  setState({ [flagName]: initialValue });\n  setTimeout(() => setState({ [flagName]: !initialValue }), delay);\n};\n\nexport const determineOrderDir = (clickedField, currentOrderField, currentOrderDir) => {\n  if (currentOrderField !== clickedField) {\n    return 'ASC';\n  }\n\n  const newOrderMap = {\n    ASC: 'DESC',\n    DESC: undefined,\n  };\n\n  return currentOrderDir ? newOrderMap[currentOrderDir] : 'ASC';\n};\n\nexport const fixLeafletIcons = () => {\n  delete L.Icon.Default.prototype._getIconUrl;\n\n  L.Icon.Default.mergeOptions({\n    iconRetinaUrl: marker2x,\n    iconUrl: marker,\n    shadowUrl: markerShadow,\n  });\n};\n\nexport const rangeOf = (size, mappingFn, startAt = 1) => range(startAt, size + 1).map(mappingFn);\n\nexport const roundTen = (number) => ceil(number / TEN_ROUNDING_NUMBER) * TEN_ROUNDING_NUMBER;\n\nexport const useToggle = (initialValue = false) => {\n  const [ flag, setFlag ] = useState(initialValue);\n\n  return [ flag, () => setFlag(!flag) ];\n};\n\nexport const wait = (milliseconds) => new Promise((resolve) => setTimeout(resolve, milliseconds));\n\nexport const compareVersions = (firstVersion, operator, secondVersion) => compare(\n  firstVersion,\n  secondVersion,\n  operator\n);\n\nexport const versionIsValidSemVer = (version) => {\n  try {\n    return compareVersions(version, '=', version);\n  } catch (e) {\n    return false;\n  }\n};\n\nexport const formatDate = (format = 'YYYY-MM-DD') => (date) => date && date.format ? date.format(format) : date;\n\nexport const formatIsoDate = (date) => date && date.format ? date.format() : date;\n","import ScrollToTop from '../ScrollToTop';\nimport MainHeader from '../MainHeader';\nimport Home from '../Home';\nimport MenuLayout from '../MenuLayout';\nimport AsideMenu from '../AsideMenu';\nimport ErrorHandler from '../ErrorHandler';\n\nconst provideServices = (bottle, connect, withRouter) => {\n  bottle.constant('window', global.window);\n  bottle.constant('console', global.console);\n\n  bottle.serviceFactory('ScrollToTop', ScrollToTop, 'window');\n  bottle.decorator('ScrollToTop', withRouter);\n\n  bottle.serviceFactory('MainHeader', MainHeader, 'ServersDropdown');\n  bottle.decorator('MainHeader', withRouter);\n\n  bottle.serviceFactory('Home', () => Home);\n  bottle.decorator('Home', connect([ 'servers' ], [ 'resetSelectedServer' ]));\n\n  bottle.serviceFactory(\n    'MenuLayout',\n    MenuLayout,\n    'TagsList',\n    'ShortUrls',\n    'AsideMenu',\n    'CreateShortUrl',\n    'ShortUrlVisits'\n  );\n  bottle.decorator('MenuLayout', connect([ 'selectedServer', 'shortUrlsListParams' ], [ 'selectServer' ]));\n  bottle.decorator('MenuLayout', withRouter);\n\n  bottle.serviceFactory('AsideMenu', AsideMenu, 'DeleteServerButton');\n\n  bottle.serviceFactory('ErrorHandler', ErrorHandler, 'window', 'console');\n};\n\nexport default provideServices;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ScrollToTop = ({ scrollTo }) => class ScrollToTop extends React.Component {\n  static propTypes = {\n    location: PropTypes.object,\n    children: PropTypes.node,\n  };\n\n  componentDidUpdate({ location: prevLocation }) {\n    const { location } = this.props;\n\n    if (location !== prevLocation) {\n      scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n};\n\nexport default ScrollToTop;\n","import { faPlus as plusIcon, faChevronDown as arrowIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Collapse, Nav, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport shlinkLogo from './shlink-logo-white.png';\nimport './MainHeader.scss';\n\nconst MainHeader = (ServersDropdown) => class MainHeader extends React.Component {\n  static propTypes = {\n    location: PropTypes.object,\n  };\n\n  state = { isOpen: false };\n  handleToggle = () => {\n    this.setState(({ isOpen }) => ({\n      isOpen: !isOpen,\n    }));\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.setState({ isOpen: false });\n    }\n  }\n\n  render() {\n    const { location } = this.props;\n    const createServerPath = '/server/create';\n    const toggleClass = classnames('main-header__toggle-icon', {\n      'main-header__toggle-icon--opened': this.state.isOpen,\n    });\n\n    return (\n      <Navbar color=\"primary\" dark fixed=\"top\" className=\"main-header\" expand=\"md\">\n        <NavbarBrand tag={Link} to=\"/\">\n          <img src={shlinkLogo} alt=\"Shlink\" className=\"main-header__brand-logo\" /> Shlink\n        </NavbarBrand>\n\n        <NavbarToggler onClick={this.handleToggle}>\n          <FontAwesomeIcon icon={arrowIcon} className={toggleClass} />\n        </NavbarToggler>\n\n        <Collapse navbar isOpen={this.state.isOpen}>\n          <Nav navbar className=\"ml-auto\">\n            <NavItem>\n              <NavLink\n                tag={Link}\n                to={createServerPath}\n                active={location.pathname === createServerPath}\n              >\n                <FontAwesomeIcon icon={plusIcon} />&nbsp; Add server\n              </NavLink>\n            </NavItem>\n            <ServersDropdown />\n          </Nav>\n        </Collapse>\n      </Navbar>\n    );\n  }\n};\n\nexport default MainHeader;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABfpAAAX6QHvggP+AAAAB3RJTUUH4AgCCwINADvDtgAAIABJREFUeNrtnXe4XFW5/z9vOqGEAGIQuVSBUEQlgIQOl0gNV0W4KEVDEcRKF+RS9Frx+pMICSShiIBY0PtTbKD0KqgIAqKgIggC0gIJqd/7x95HJ4eTk5ldZvae+X6e5zwz5zxn9lrr3Wt9533XXutdYIwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcZUiahLRSWNAtYB1gJWBEYDywGLgDnAXOBZ4C8R8fgAnycifMeNMYUKE5KGS1pT0raSZkiar9Z5RNLxksZLGitpSGMZxhiTV6w2kPQpSX+V9KqK4yVJd0naV9IYi5YxpmVPquH9fpJ+kdGTapUnJU2TtLnvgjGmKaGSNETSLpIeVue4WtLavivGmMFEawVJ96kaLJA01WGiMeafXlWDZ3WGpEWqHn+VtJmFyxiHgKRP6q5R9TnWd82YahJli1VEIGkD4B5gpZrY5Rpg/4h41V3EmOowpEyvKhWrvYF7ayRWAHsDt0hayeGhMV0uWA3CdRTwA5JV6XVjy9QrHGfRMqZLQ8KGMHAP4EfUaPvPUngM2MjhoTFdKFipaG0G/BIY1SV2uj8iNvd+RGO6KCRMly+sDtzSRWIFsJmkmRYrY7pIsNIBfSUwpgttdbikKX3CbIypaUjYMG/1eeDkLrbX88DaETHbXceYmgpWKlqrAk9T8pPHCvA7YHNADhGNqVlI2LDt5tYeECuATYE9LFbG1Dck3A/4fk8ZLiL81NCYmnlYKf/Ta4aTdLLFypiaeViSDgYu60HbPR8Rq/SAMP/Ti5Q0HFiBZMnKcsA84O8RsbD//xpTVcG6m2QbSy9yWkR8tssF6/Uk83YHAdsCY4HlSQ4CmQv8EfgDcAdwRUQ8afEylRQsSZsAvwZG9Kj97gUm9HkYXShWlwHvSr2pZvrKfOB24H0R8YSHlymavHNYB/WwWAGMB97QTeFf+vphSf8ADibZuN7sF9sIYCfgcUkzPbxMZQRL0kjgYz1uvxHAh7rG3U4W/04HpgJ55+cOl3SjpLEeZqYKHtYGJHMZvc5u6WR03b2rYZKuAj5Y4GV3BJ6W9G+NHpwxnRKsITYhE4DV6zgY+9X5B8ABJRQzDLhP0ps8CW86KVgH2Hz/ZHwdB2PDcoX3A3uUWNRKwD2StnBXMZ0SrANtviVCn7qGgkF7Fv6uCNwh6c3uLqatgiVpOWCozfdP3lhjsbqSZG1VOxgF3C5pQ89nmXZ6WJvYdEuwVk3r/QZgcpvLHA3cCazpbmMsWJ1hnZo+Kfw4yaLQdrMy8BdJ67vrmHYI1qo23RKsSc1SQqdbbk7oYBWGAg9JelNaHy97MKUJ1oo23RKMpH6nAx1agToMA+6U9JaI8N5DY8FqE1EXwWrwYj5ZkSqNBa7vW1xqTBmCtdime41g1aOiyfabE2jfk8FmWBn4saRR/UTVmEIE6yWbrn6i1SAEH65g9TYBLuwTVWOKFKyXbboleJokmV0dvKvJwNoVreIhkt7i7mSKFqynbLol+FvVBSt9CjeMZKFolblYUjgsNEUK1v023ZKCFRGVntdLw6yJdGbdVSu8BVjZYaEpTLAi4gGb7rV2rIFXMI16PCA4yV3KDKg9OUKM56jWk6ZOMz0ijqliLvNUSPcGflibjmkXyxQYEgJcavMtwdGSplZxnKV1+kidjOl1WaZowbrG5nsNH5Z0YdXCwzSly641s+UYdydTpGD9ES8gHYgjJc2sgqeVPhkM4AygbpuzV3ZXMoUIVuo9/BX4u004IIdLmiWpoymkU9Fcg2T+qpe+TI0Fa8mBEBGLgDNtwqUyBbigAuHhB0k2Z9eNF9yFzGu0J2fIsSbwIN4MPRjTI+KYDoWEY4Hnamq3dSPiz+4+phC3O318/wTJSb9m6Rwt6fw2C9U/y66x3R5z1zGFCVa6Lw3gHJtxmRwjaUbb3OZ/TfifUVN7zaz6zgFTM8HqGxgRcS1wh025TI6QdFE/D6hML+tz1HPuCuAsdxczoOYUNDgmArfanE1xUUQcXmY4mHq/fwdWr6F9HgbGA4u92N0U6mE1eFq3AT+1OZtiiqQZZWUkSMXqsJqKFcBREWGxMuV5WOk3+2iSvFDL26xNUcrew/Q+PEw9j9G6NiImuWuYUj2s9Jt9DnCYTdo0R0uaXoInsVtNxeop4OC+sNaYUgUr9RS+C0y3WZvmg5JmFrwi/tQa2mEOMCkinu4La40pNSRsEK5hwH3ARtTv6KtOcXFETMkTHqZeyS7AL2rW9kXALhFxcxVT85gu9bAaQsOFwE54n2ErfEDSrIa1bVm8W4BTatj2HS1WpmMeVsMgWg+4B++6b4WZEXFklsGb5o96hORw0rqwVUTc7dtuOuZhNfAosDM1OE2mQhwhaVorYtXgkZ1fI7FaCGwSEXd7gt1UwsNqGFBrAA/Y02qJCyPig816WpLGkaT7qYtg7RwRNzoMNFXysBJFjHgSGAfcbHM3zVEtJgE8viZitRjYMyJuTPuG77SplofVzxP4IvAxYIRN3xSXAEekuceWFg6uCjxbg7bMJ1m6cKNvq6msh9UwsIiIk4AtgNk2fVO8H5jZaMN+3ivU50isrfrCQGPq4mH17XUbCXwU+KJvQVPMjIgjl2LTOVT/cNS3R8SdnrMytfCwGj2CtNPOi4gvAUNJjk5f4FsxKEdImt7f05L05YqL1UJga4uVqaWHtQyPaxqwF0mWAffsgZkREUelthsJ/InkkIkqMh/YNSKcdsjU08MayONKX+dFxBTgTcD2wLeAP/v2vIYj+5IAkmwUrqpYCdg3Im71nJXpGg9raR5X+n4FYANgK5IFqONS7+t1JE/G+j/GfxH4R/ozGti0i+/bZcAEkkR3VWRSmonWmO4VrMEELP19KMkJPcun3mFj/ecAr0TE3PR/byDZ02jax0JgQkTca1OYnhOsnGIXJFlQd/dtbhubRsQDnmA3ZdG1p+tGhEhOPL7Jt7kt7GyxMvawivG2bgG28+0uhVdJttvcYFMYe1j5xQpgR3yqTxksAPaxWBkLVnGhIemhnJPwBuyimRQRP/fSBeOQsBxvK4Dr8dPDItguPd7NGAtWycJ1PcnaLtM6i4DxEfEHm8I4JCxXqPre7g44zUk2doiIPzgMNBasst3Jf20FWgi8A7jdXaBpFgN7RMTtXrpgHBJ2xuMK4BZgorvCoMwjeRp4nU1hLFgdCg/TTBFDgRtINl2bgdk2Iu6wZ2UcEnY+PFxEMqd1g7vDgEy0WBl7WNX0um4kWWRqkhQxW0XEPTaFsYdVzRBxJ7wiHpKsCxYrY8GqeohIsiK+158e7h0R93jpgnFIWA9vaxTwC2DbHmz+XhHxY/cCY8Gqn3DdSu8seVhAkiLG222MBatmQtW45OE6kr2H3W6rzSLid34aaKqM57AGUvEllzxMIllc2s1sb7Ey9rAcHlYdH8Vl7GF1Y4hIsj7rzi5q1gKSCXaLlbFgdVuImIaH/w7c0SXN2sfJ94xDwu73toaRpKapc3i4a0Rc77tpLFi9I1w3ATvUrNqLgM0j4kHfQeOQsDeEqu/tLtTvCLGtI+JBh4HGgtUrLulrszzUZU5r94j4lZcuGIeE9rruAraqaPVeBSZHxLW+U6buDLMJcovV/sDIilZvMcnShevtWRnTe+LU+P5kSQ+r2uzYv96ttrMoexnjkLCNQpXuLVwFOAQ4CxhT8WpvExF35WjzisA6wJuBTYCNgQ2BscDKwPIkud5fTH8eBR4CfgfcBzwMvJAeYruEHY0xBQtUn3eQvh8l6bOqB4skbdaMh9PPYxwiaTVJ+0v6vqTnc9ZjgaSbJR0raS1JwxttaowpXrjGSrpC0suqD7u2IlapIG8l6SeSXiipTq9Iuj8Vw2EWLWOKFaq3SPq6pMU1EqpFkvZqoY1DJU2WdG2b6/kbSUdLWtnCZUyG8C99HSlpO0k/Uv2YJ2m3JtsbqSD/b4fr/BtJe6c5xyxcxrQgVgdKui/1UurIlssa9GnoN1TS/0iaW6G6f1/SCu6NxgwiUun74yU9onqz3WBi1SDKG0q6vqJteETS7va0zLKIXhGpvsfp6eP6dwIXAKNq3KyFJIec/nJpywUalmPsDHwbWK3Ktwn4aER8zcPS9LRgNQjVkcCXu6A5C4HdIuKmwbyqVKz2AH4IDK1J284BTooIu1qmdwSrwbtYDzgNeBfJgsduYK+I+HETntUxwNQaiVUflwOHAou90NR0rWD1C/22Bj4CHACM6KJm7hkRP2lCqA8DLqlxOy8GjrBoma4TrH7Hcm0IzKL7DkFdCLx9sOPjG+ywA8lBsHXf3H4pcHiayseY7vGw0kWT5wNr0Z15vraIiN8uaz+epAkkx5KN7JJ2Xw4cBiyyp2VqP7AlfUDS/cA1wNpdKla7LEus0nVWY9JQamQXtf19wIXAMC95MLUJGfrNT60E7EmyNGFMF9+feSRzVjcAg3pWaSh4LrBZWbcAmJP+vEJypuEwYHTDT1n9aQpJbq9j0tDYOCSsvlhJGgscBXyO7l+SsZDkKK6fNpOWRdJBwGUU/0RwNnAFcC1J6ph/kGQxXZR6syPTL431SQ7lOIQkLU0ZXJFe3xPxptKCNUzSuZKeVe/Q9MpvSStJerTg8u+X9E5JK0uKFu7VKEkTJf24JLtcme6H9MAwlRSrvSU9od5i+xZtdEKBZT8j6eNZBaHf1qe9JT1Ygn1mpfsiPUBMpbyq7/WYUC2SNL5FO71e0tMFlX+fpDWb9eyaEa40MeCVJdjqCkk+9anHGFJBoep7Owv4jx67Hzs2e25gw/8cALyugLKvI0mr/EQRqYzTOUciYnFEHAScWbCtDgKuSgXRI9l0TqwkTe1Bz2rPDPYaXtBBGN+RNLwN9/XUEpIizmpMv2xMu0Xroz0mVq9KekdGAZhcQPk3Shpd9oBvqPOJZc1pefSYtnpXkkZIerHHBGuHLHNGaSiUN2vok32pitvsQX+kBDt+3RPxnsNqG+mcyQXASj02Z3VzxjmjFYGJOcpeBPxnRLzQznuctnUq8LGCL38IMBOviDdt8q7WTXOT98qc1YScNttC0vwcdbg6i2dXsKd1fAlpqWf66aE9rHZ4V1vQXWlglsZiYNuIuDvndXYC8kyUf6rB9m2/36mn9WXgpIIvfzjwDYuWBatsDugRm+8TEXcV4Nm8J8dnr4yIBzoZOvUTrWMLvvxBwBVeEW/BKitEGA5s0+2RbypWP87r2UgakdNel3fKu1qKaJ0PfDK1UVEcSJK5wgdbWLAKZxW6O+vCAmDniLimoOutliMcXADcWxXDNIjW54H/SkPmojiMcjaEmx4XrOWp9wk2y2KbiLipwG/61XN8ti/jQmVoEK3PAB8u+PIHk8xpecmDBatQwVq+S228U0T8uojtLg3kWfrxEEmerUrRIFrTgBMLDg//EycBtGAVyEK6LzHbfGD7vqO4Cp4vyuONPlpw2FWGaJ0DnFqwaE0BplH/PPcWrArwGPBEF9l1ITA5Im4t6Rs9j2C9UOXkd/3mtD5S8OWPAC72hmkLVt5O+grweBfZdb9mM4V2gMqP1AbROg/4aMGXP5jk6aHDQwtWLn7bJTbdPSJ+VEIY2MirOT47tg5G7LeN5+SCL38oMB2wp2XByvCVn3SaWTW35WJg84i4rg1l5Zk0X6cuq8AbROuLwHEFX/5wkiUPXhFvwWq9Y6YHhD5aY1tuGxH3t+kb+6Ucn90QGFEXz6JBtL6SilaRDwzeC3zLc1oWrKx8oKZ2nBQRd5UcBjbyTI7Pbg6sWqdTZ/qJVtEr4t+devcWLdNaWJgu7rujRlkX5kraowO2GilpYY56v6OufSR9Pa2EzKWXeMO0ydohHyuhQ5bBpMZ6t9lWd+ao90Vd0Ec+UcL9vNDhocnSGTetgVjt1imxSss9Pmf916/rwGzoJx8q+J4ulnRqJ++rqa947VpCcreieHsF7LOlpAU52vCNOg/MBtE6qYR+8h6LlsnSGfeoWGi4WNKbq9CZ0xOZn8vRlvmStuqS/nJcwff5OUkbW7RMFtE6oEKCtXtVOnE615L3OPi/pBP4te0jDf3kyILv9S8ljfJINFk65oEVyMG+bwXtUoSYf6/u5/o1iNbJBXvkx9jLMlk75X4552yyMq/vaWAFbTJC0p8KOtevWzzyUwu89wskreHRZ7J2xl06IFjbVvlbNp10LuRcv7p7Ew395Ogilzp4BJo8nXHPNorVjlUfxJLeKOn5gtp7Xt0zczb0k1MKDA/HOyw0eTrjXiWHhwskbV0Xj0PSGQW2/dy6L55s6CefLMgmPszC5O6UB5a0TmuhpF1qZouVJf21QBtM72BbIl3OMrag6328AHv8Q9LyHnWmiDmtFwscqM9Kmlinb9MGW7y/YOGe1s5z/dIlCqMkTU2/NG5KhTjvNUPSZwuwxxEeeaaIjr6mpF8V0CHvrusToQbR+nbBonVeu0RL0grpEotGbpK0agHXHi7p5py2uFeSjwszhXX492acfH5a0rvqPkeRehOrSXqkYNGa3oa6j5Z021LKv0PSmALKWF/SCznsMEfSOI80U4h3kb5fXtJ2kq5uogNeJWmipNFdZo9tSpjXK2XfYUMY+LNllH+bpDF5y0/T0uTZlrW/R5wpa+AOlTQhfaI4Jf3ZM900PKRL29z3un8JojWrjPAwvW4z3CRphTzCKWmd1KPOJdzGmOJF67gSROtcSZHX22qo46daLP+2AkTr4hzt/4OkEe5lxpQjXqeWIFoXFREepqH73Azl3y5pxRzl7qrs2VpfkLSWe5Yx5XlaJ5QgWhfkCQ8ljZP0ZI7yb00n6rPMmY1Nl69kTcmzpReQGlOuaJ1VQl6xs3PU65wCyr+5z9NqRUDSDeP35Ch3sntW53DS/S6m4bSZM4AzC778GhnFaivg+ALK3x64TtLqrZwAFBHzgUdylLuKe5YFy5QvWmcDJxZ46cuzeHvA1ALrMB8YnuFzj+Uoc4WMXq47owXLtCha5wCnF3DJx4HftDII0zrsDmxTULPOBnaNiCcyiMHzOcpdPoPtjwZGWrQsWKZ10foM8Jmcl7s6Il5oNhRLJ7uHAV8oyKs6JA1zF/S1rUWG5yh/YYbPHAPM9HjLzzCboCdF63RJrwCfyygY12Qodz1gs5xNWATsHBG3ZxSqPlbPUYfZGT4j4GBgJUnvBBbX6eRte1imCqL1eeC0DJd4Cfhths9NyenZABwbEbfnXLQawLo56vBKhs/0LTadDFwKDHV4aExrA7fv9dMtPtb/VePnmyxrRJpTKncSvQLavZyk3+eox79nsPEf+relW7eHGdMO0Tq9ldzvGRZsTsopVo/mzY3VUJfVJb2cI2PDZi2WF5KeGeBa3+xLV2NvyyGhaS08/DRwSpMf+2WGonbLozHACa1M8i+DvYGsGTpeBp5p8TPjgIG2Eh0IXCxpuHuiMdk8rWbSr+yV4bq35PCufte34TlvG9MMHj/Pk+QxQ7n7LGPv4oy6H/xhD8t0ytP6b+CsQf51LvBAi9cdA2yUo3pXRcTLecUq9c62BnbIcalrM3xmC2CwTKVHADOW8T/GmEE8oqWdNvNUhmtukx5Gm4WXJK1bYPuuzuFdLZL09gxlfqvJ63/TnpYx2UXrlAEG1Z2N/9Pk9d6bQyR+3Wp5g7TnPTkn/l+StFKzdUlD0BUkPdjqAw2LlkNC03p4+Hleu7D02b7/aUEsNshRnd+2Ut7SQkFJbwSm5TTN9RHxUrN1Sf9vVWDNFso4BLjE4aEFy7QoWunrqSy593Beq5ciX3aD3xcgviuRrMzPe/rOORk+swkDPyEcjMOAK+t+mK0Fy3QkPEz3Hp6U/mlOhsvkecL3eJZB2+8zlwNvzmmK30fEzRk+9/aM5b0H+AZg0eqH9xKaZsLDL6UnMWfZg5fnVKLZrYaDDWHgG4Dv5hCNRi5utQ7AKGCfHGUelH5BHCNpgfceGtOixyJpkxY/F5K+kWOi+z0Z67utpMcLyqz6oqTlMtahCC71Aa4OCU02T+uBDCFKnjVUK2XYBnQocButTXYPxiciYm6GcPTdBZV/KHCJpGEODy1YpgXRanxtdvzmFKx1M4RC3wMuKqjZ9wGXZ0hUOJwkM0NRHAxMB4b3umhZsEzZIvf3HJfYrJ/X0gyzgSOBb+Ws/nzg8IiY16poRsQC4PyCzXk4cIHHrDElImlyjhN7HslR7hBJV+WYO/pq36GxLZbb+P5jJRyx9i2viDemPMHaNOOBqZL0qqQdsopGOu9zXoZyr5c0Mme7+14/UYJofT3PuZDGmKUP3Mj5xG5G1sHZkKHhihbKe0bSxhlC0cFE65QSzoX8rHuXMeWI1v/PMTCfkfT6PKKRhofNbHyeLWm7kmxQhmidYS/LmOIH6/E5B+bpBdRhqKSZg5SxUNJ+RXhWg3haxxYsWPMl/Yd7mDEFDlZJb8s5MBdI2jKPmKT1GL6U8HCOpIPKEKsBROvkgj2tpyWt7Z5mTLED9v6cA/OXkkbnFY3U0/pOw3VfaCWLakGidVLBntZPPQlvTLGD9cgCBuZ3i8gXlYrW5ZIeljS+TM9qENH6YMGi9bF2tsOYbhesPKfVNDI9rzeRit5y6Ybutg/yfkseigoP/yRpFfc0Y4qby/p2QYPzvLrni1pGZtesfMGhoTHFDdJxyzhBpqUsBnUOgfqtiP9QQTaZnWcJiDHmtR7FjAI9ikvq7lH0Cw8XFWCTj7q3GVNcWLhq+mRODg9fI1qfLcAeTxVxjqMx5l8D9OCCn5CdP1CoVVPRmlqAPfatsy2MqdrgHCXpuoJF64K6ZzFIPdAR6ZqzXKGye5kxxQ7ONST9tWDRmtoNqVckbZ7z4cQjaRJBY0yB4c+kHKdCL43/1wVeFulJ0FlZLGlD9zRjih+gB5WQL2pG3edwUg90dg4bHOPeZUw5nlYZmTkvrvux7znT8vwsS8ZUY0xzovWZEkTrvDqu02qwySE52v5nHw9mTLkD9OwyPK0a22V8mvMqC8/mTfNsjFm2aB1XgmhdWrfwMK3vipIezNjmV/Km4zHGNCdany5BtL7at+ShLsKV1vfajO2d5xXvxtRbtKZKGlIze1yWsa0LJa3Ybf3DhzKaSpGenExEnA6cVPDlPwxMaxTGGjAn4+eGduP4tmCZKovWl4BPFXz5oyR9DajLivisE+eLAW8mNKYD4eGZJYSH51Z9yUOaheIHOU7U8RyWMe0WrPT9qSWI1kVVDg8ljZb0m4xtmyNpefciYzrnaZ1SxjqtqubTkrS2pBcztut5SaPce4zpvvBwWhWXO0jaO0ebnpA0zD3HmM6LVhlLHi4cKBTtcHvzpJO+I+9ewnSO7xB7asbkF62TSwoPKzERnyY5fCJHW84owMZf6dtIXSUhN6auovXJEkTra31zWp0YoA1tOy1nOybkrMf5/a53rUXLmGqGh1/p5Ip4Sa9P9wK2/SCKVKi/tpTr3mvRMib/AD+1rDmtDnlZF+es+w9yfAF8fhnXvtmiZUx+T+vEEkTrgnaFhg3tmFJAvT+QsexmT+z5kXueMfkH+1klrYgvdZ1WQ/0nF5DjfqGkNTLUYVqL5VxnT8uY/IO+jHVaF7Wh3tvnWCS6xPxbhjp8NWvOLYuWMfkHfxlJAH9WYn3fLWluAXVcKOlNLZb9hbxhs0XLmGp6WndL2rR/WTnqOrLgp5zfaeVcxhyeVX+Os2gZk1+0yljysEDSf0ka22p9Gn4fLmlijvTHA/GcpPFN1ickzSrYLm9yzzMmv2idpHKYmx6asXazpyxLWlnSPpJ+m/Nk5wEfDrRgk3NLsMd8ScPK9rJ8bpnpatFKkwGeCvx3ScXMAR4C7gEeAB4DXgQWACsA44ANgLcBmwJvLKEOfwK2Bp6NiGXZ5MvAcSXZ4uyIOMM9z5j8ntYZ6k7mSdq5SVuc34b6bOq5LGOKEa3TulCwzmjSBjPbVJ8rB5q3M8ZUa06rE/zvYPNnA2RdaAfPSVrFPc6Y4kTrU10gVj/XIEfRd0is+jjFvc2YYkXr7BqL1e8kjV1W2CXpyx2q35xmn5y2ip8Smp4UrfTp4bHA12pW/XuA3SPi+b52DNLOEcBvgI3bPNYXAOtGxBNFX9jnEpqeo+Hcw/OAg4BFNan6NcD2zYhVynxg+w44JsOBjcq4sAXL9LpofRPYB3iqwtVdAMwEJgOv9tW/mTZGxHPACR2o84kOCY0pL0wcB3wd2L1iVXsROAL4TjMitZS27Qjc2IEvhcL1xR6WsVglntZTqad1IvBcRar2Q2CbiPhOzuv8sUN23cCCZUwJ4WH6Oj8iziHZ5nIpMLtDVboPeHdE7BsRv282BByE+R1qx5ZFLyC1YBnzWh6JiPenwnUJ7ZmUXwzcD+yfelVXFzjY1+2QHTcuOiq0YBmzdI/rIeADwPrAKSSbm4vmpdSb2wmYEBHfjYi5TT4FbJaNOmTKCYXfG3dPY5ZOo3CkR7+/NRWXien7dVq85Ow05LsNuAW4NSKezVifZa3D6nsa+ndg9Q6Y78mIeEOR4mvBMiaDWPT9DqxCkjZmArBh+vuqwEiSyftngb8BvwbuBR6LiAWDXbeJeswCHu9L5TJQvRpE7fvAfh0y2QJglYh42b3HmC4QwFb/V9JFDVtgLpM0cqDrSVpJ0m0V2Ea0h0NCY3pT4GaQrMlq5Ik0vPwV8DjJfNtbge2A1SpQ7TMj4izfPWN6yAuTNKOmG7W/Lakwx2iYu4Qx1SWdNL+CZM9jHdkMGCJpURET717WYEy1PatLaixWkDydHF7UU0ILljEVFKvUs7oIOKzmzRkNrFXUxSxYxlRTrC4nWbRad0YBa1uwjOlesfoG8N4uatpEC5YxXUYqVrOA93VZ0/YtzEbuJsZUxrO6hPrPWS2NoRGx2B6WMd3hWX23i8UK4N8cEhpTc88qfb0MeFeXN3e9ItLlWLCM6axndRlwcA80dyMvHDWmpp6VpEiPdT+4R5o9qRCRd/fhqQt1AAACUklEQVQxpiOidRVwQA81+dWIWM4eljH1E6tLe0ysAEY1psKxYBlTD7HauAfFqo/cubEsWMa0T6z68sRv2qMm2C3vk0ILljFtouFwi0eBDUhOyukl1sv7pNCCZUxnxOsRYHM6d/ZhJ8h9sKoFy5jO8QDJCTyLeqS9a1qwjKlxiBgRvybJytkLjJK0hQXLmHoL10MkpzPP7/KmDiNnqhkLljHVEK0/A+8GXu3ypuY6DdqCZUwFSJc8/BDYGPhzFzf1bZKGW7CMqbeH1ff6F+DNwE+6tKnjSeayLFjGdIl4zY6IPYGz6L55rWHA6lnXY1mwjKlgeJgK15nAG4Dfd1HzhgDrOCQ0psvCw/T9PyJiY2AX4Pvd0DxyLCC1YBlTA48rIm6IiHeSLH+YAdxb4yZlzo3lfFjG1FvMDgVOB8YBI4DhNRjXcyJieQuWMb3jcfX/23BgZWA5YHdgH2BLYFWS05erxpiIeMmCZYzFrPH3NUgmuTcE3gZsAqyX/nSSvSPiRxYsY8yyRGxE6o1tDOyV/owFVmmjN3ZiRJzju2OMaUnM0p+hkkZJGiPpKEm3q1yOylJfe1jGmAE9sfRvbyR5Mrk+sCPJ5uXXpx5aHraJiLssWMaYskPKFUnmwsaTbGZ+K8lTynFNhpQXR8QUW9YY0zYR6/f7UEmrSdpE0gmS7pK0QNJCSYvTH0maKWlY1nLtYRljCg8l078PAV5HMpm/CHg5Iv422GeMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjTJH8H2pZyjdGn2deAAAAAElFTkSuQmCC\"","import { faChevronRight as chevronIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isEmpty, values } from 'ramda';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport './Home.scss';\n\nexport default class Home extends React.Component {\n  static propTypes = {\n    resetSelectedServer: PropTypes.func,\n    servers: PropTypes.object,\n  };\n\n  componentDidMount() {\n    this.props.resetSelectedServer();\n  }\n\n  render() {\n    const { servers: { list, loading } } = this.props;\n    const servers = values(list);\n    const hasServers = !isEmpty(servers);\n\n    return (\n      <div className=\"home\">\n        <h1 className=\"home__title\">Welcome to Shlink</h1>\n        <h5 className=\"home__intro\">\n          {!loading && hasServers && <span>Please, select a server.</span>}\n          {!loading && !hasServers && <span>Please, <Link to=\"/server/create\">add a server</Link>.</span>}\n          {loading && <span>Trying to load servers...</span>}\n        </h5>\n\n        {!loading && hasServers && (\n          <ListGroup className=\"home__servers-list\">\n            {servers.map(({ name, id }) => (\n              <ListGroupItem\n                key={id}\n                tag={Link}\n                to={`/server/${id}/list-short-urls/1`}\n                className=\"home__servers-item\"\n              >\n                {name}\n                <FontAwesomeIcon icon={chevronIcon} className=\"home__servers-item-icon\" />\n              </ListGroupItem>\n            ))}\n          </ListGroup>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Swipeable } from 'react-swipeable';\nimport { faBars as burgerIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classnames from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport { serverType } from '../servers/prop-types';\nimport NotFound from './NotFound';\nimport './MenuLayout.scss';\n\nconst MenuLayout = (TagsList, ShortUrls, AsideMenu, CreateShortUrl, ShortUrlVisits) =>\n  class MenuLayout extends React.Component {\n    static propTypes = {\n      match: PropTypes.object,\n      selectServer: PropTypes.func,\n      location: PropTypes.object,\n      selectedServer: serverType,\n    };\n\n    state = { showSideBar: false };\n\n    componentDidMount() {\n      const { match, selectServer } = this.props;\n      const { params: { serverId } } = match;\n\n      selectServer(serverId);\n    }\n\n    componentDidUpdate(prevProps) {\n      const { location } = this.props;\n\n      // Hide sidebar when location changes\n      if (location !== prevProps.location) {\n        this.setState({ showSideBar: false });\n      }\n    }\n\n    render() {\n      const { selectedServer, match } = this.props;\n      const { params: { serverId } } = match;\n      const burgerClasses = classnames('menu-layout__burger-icon', {\n        'menu-layout__burger-icon--active': this.state.showSideBar,\n      });\n      const swipeMenuIfNoModalExists = (showSideBar) => () => {\n        if (document.querySelector('.modal')) {\n          return;\n        }\n\n        this.setState({ showSideBar });\n      };\n\n      return (\n        <React.Fragment>\n          <FontAwesomeIcon\n            icon={burgerIcon}\n            className={burgerClasses}\n            onClick={() => this.setState(({ showSideBar }) => ({ showSideBar: !showSideBar }))}\n          />\n\n          <Swipeable\n            delta={40}\n            className=\"menu-layout__swipeable\"\n            onSwipedLeft={swipeMenuIfNoModalExists(false)}\n            onSwipedRight={swipeMenuIfNoModalExists(true)}\n          >\n            <div className=\"row menu-layout__swipeable-inner\">\n              <AsideMenu\n                className=\"col-lg-2 col-md-3\"\n                selectedServer={selectedServer}\n                showOnMobile={this.state.showSideBar}\n              />\n              <div\n                className=\"col-lg-10 offset-lg-2 col-md-9 offset-md-3\"\n                onClick={() => this.setState({ showSideBar: false })}\n              >\n                <Switch>\n                  <Route\n                    exact\n                    path=\"/server/:serverId/list-short-urls/:page\"\n                    component={ShortUrls}\n                  />\n                  <Route\n                    exact\n                    path=\"/server/:serverId/create-short-url\"\n                    component={CreateShortUrl}\n                  />\n                  <Route\n                    exact\n                    path=\"/server/:serverId/short-code/:shortCode/visits\"\n                    component={ShortUrlVisits}\n                  />\n                  <Route\n                    exact\n                    path=\"/server/:serverId/manage-tags\"\n                    component={TagsList}\n                  />\n                  <Route\n                    render={() => <NotFound to={`/server/${serverId}/list-short-urls/1`} btnText=\"List short URLs\" />}\n                  />\n                </Switch>\n              </div>\n            </div>\n          </Swipeable>\n        </React.Fragment>\n      );\n    }\n  };\n\nexport default MenuLayout;\n","import { faList as listIcon, faLink as createIcon, faTags as tagsIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { serverType } from '../servers/prop-types';\nimport './AsideMenu.scss';\n\nconst defaultProps = {\n  className: '',\n  showOnMobile: false,\n};\nconst propTypes = {\n  selectedServer: serverType,\n  className: PropTypes.string,\n  showOnMobile: PropTypes.bool,\n};\n\nconst AsideMenu = (DeleteServerButton) => {\n  const AsideMenu = ({ selectedServer, className, showOnMobile }) => {\n    const serverId = selectedServer ? selectedServer.id : '';\n    const asideClass = classnames('aside-menu', className, {\n      'aside-menu--hidden': !showOnMobile,\n    });\n    const shortUrlsIsActive = (match, location) => location.pathname.match('/list-short-urls');\n\n    return (\n      <aside className={asideClass}>\n        <nav className=\"nav flex-column aside-menu__nav\">\n          <NavLink\n            className=\"aside-menu__item\"\n            activeClassName=\"aside-menu__item--selected\"\n            to={`/server/${serverId}/list-short-urls/1`}\n            isActive={shortUrlsIsActive}\n          >\n            <FontAwesomeIcon icon={listIcon} />\n            <span className=\"aside-menu__item-text\">List short URLs</span>\n          </NavLink>\n          <NavLink\n            className=\"aside-menu__item\"\n            activeClassName=\"aside-menu__item--selected\"\n            to={`/server/${serverId}/create-short-url`}\n          >\n            <FontAwesomeIcon icon={createIcon} flip=\"horizontal\" />\n            <span className=\"aside-menu__item-text\">Create short URL</span>\n          </NavLink>\n\n          <NavLink\n            className=\"aside-menu__item\"\n            activeClassName=\"aside-menu__item--selected\"\n            to={`/server/${serverId}/manage-tags`}\n          >\n            <FontAwesomeIcon icon={tagsIcon} />\n            <span className=\"aside-menu__item-text\">Manage tags</span>\n          </NavLink>\n\n          <DeleteServerButton\n            className=\"aside-menu__item aside-menu__item--danger\"\n            server={selectedServer}\n          />\n        </nav>\n      </aside>\n    );\n  };\n\n  AsideMenu.defaultProps = defaultProps;\n  AsideMenu.propTypes = propTypes;\n\n  return AsideMenu;\n};\n\nexport default AsideMenu;\n","import React from 'react';\nimport * as PropTypes from 'prop-types';\nimport './ErrorHandler.scss';\nimport { Button } from 'reactstrap';\n\n// FIXME Replace with typescript: (window, console)\nconst ErrorHandler = ({ location }, { error }) => class ErrorHandler extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(e) {\n    if (process.env.NODE_ENV !== 'development') {\n      error(e);\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"error-handler\">\n          <h1>Oops! This is awkward :S</h1>\n          <p>It seems that something went wrong. Try refreshing the page or just click this button.</p>\n          <br />\n          <Button outline color=\"primary\" onClick={() => location.reload()}>Take me back</Button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n};\n\nexport default ErrorHandler;\n","import axios from 'axios';\nimport { stateFlagTimeout } from '../utils';\nimport Storage from './Storage';\nimport ColorGenerator from './ColorGenerator';\nimport buildShlinkApiClient from './ShlinkApiClientBuilder';\n\nconst provideServices = (bottle) => {\n  bottle.constant('localStorage', global.localStorage);\n  bottle.service('Storage', Storage, 'localStorage');\n  bottle.service('ColorGenerator', ColorGenerator, 'Storage');\n\n  bottle.constant('axios', axios);\n  bottle.serviceFactory('buildShlinkApiClient', buildShlinkApiClient, 'axios');\n\n  bottle.constant('setTimeout', global.setTimeout);\n  bottle.serviceFactory('stateFlagTimeout', stateFlagTimeout, 'setTimeout');\n};\n\nexport default provideServices;\n","const PREFIX = 'shlink';\nconst buildPath = (path) => `${PREFIX}.${path}`;\n\nexport default class Storage {\n  constructor(localStorage) {\n    this.localStorage = localStorage;\n  }\n\n  get = (key) => {\n    const item = this.localStorage.getItem(buildPath(key));\n\n    return item ? JSON.parse(item) : undefined;\n  };\n\n  set = (key, value) => this.localStorage.setItem(buildPath(key), JSON.stringify(value));\n}\n","import { wait } from '../utils';\nimport ShlinkApiClient from './ShlinkApiClient';\n\nconst apiClients = {};\n\nconst getSelectedServerFromState = async (getState) => {\n  const { selectedServer } = getState();\n\n  if (!selectedServer) {\n    return wait(250).then(() => getSelectedServerFromState(getState));\n  }\n\n  return selectedServer;\n};\n\nconst buildShlinkApiClient = (axios) => async (getStateOrSelectedServer) => {\n  const { url, apiKey } = typeof getStateOrSelectedServer === 'function'\n    ? await getSelectedServerFromState(getStateOrSelectedServer)\n    : getStateOrSelectedServer;\n  const clientKey = `${url}_${apiKey}`;\n\n  if (!apiClients[clientKey]) {\n    apiClients[clientKey] = new ShlinkApiClient(axios, url, apiKey);\n  }\n\n  return apiClients[clientKey];\n};\n\nexport default buildShlinkApiClient;\n","import PropTypes from 'prop-types';\n\nexport const serverType = PropTypes.shape({\n  id: PropTypes.string,\n  name: PropTypes.string,\n  url: PropTypes.string,\n  apiKey: PropTypes.string,\n  version: PropTypes.string,\n});\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\n/* eslint no-console: \"off\" */\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        return navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      }\n\n      // Is not local host. Just register service worker\n      return registerValidSW(swUrl);\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  return navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      const NOT_FOUND_STATUS = 404;\n\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === NOT_FOUND_STATUS ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        return navigator.serviceWorker.ready.then((registration) =>\n          registration.unregister().then(() => {\n            window.location.reload();\n          }));\n      }\n\n      // Service worker found. Proceed as normal.\n      return registerValidSW(swUrl);\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    }).catch(() => {});\n  }\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.scss';\nimport NotFound from './common/NotFound';\n\nconst App = (MainHeader, Home, MenuLayout, CreateServer) => () => (\n  <div className=\"container-fluid app-container\">\n    <MainHeader />\n\n    <div className=\"app\">\n      <Switch>\n        <Route exact path=\"/server/create\" component={CreateServer} />\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/server/:serverId\" component={MenuLayout} />\n        <Route component={NotFound} />\n      </Switch>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { rangeOf } from '../utils/utils';\n\nconst propTypes = {\n  serverId: PropTypes.string.isRequired,\n  paginator: PropTypes.shape({\n    currentPage: PropTypes.number,\n    pagesCount: PropTypes.number,\n  }),\n};\n\nexport default function Paginator({ paginator = {}, serverId }) {\n  const { currentPage, pagesCount = 0 } = paginator;\n\n  if (pagesCount <= 1) {\n    return null;\n  }\n\n  const renderPages = () =>\n    rangeOf(pagesCount, (pageNumber) => (\n      <PaginationItem key={pageNumber} active={currentPage === pageNumber}>\n        <PaginationLink\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${pageNumber}`}\n        >\n          {pageNumber}\n        </PaginationLink>\n      </PaginationItem>\n    ));\n\n  return (\n    <Pagination listClassName=\"flex-wrap\">\n      <PaginationItem disabled={currentPage === 1}>\n        <PaginationLink\n          previous\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${currentPage - 1}`}\n        />\n      </PaginationItem>\n      {renderPages()}\n      <PaginationItem disabled={currentPage >= pagesCount}>\n        <PaginationLink\n          next\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${currentPage + 1}`}\n        />\n      </PaginationItem>\n    </Pagination>\n  );\n}\n\nPaginator.propTypes = propTypes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paginator from './Paginator';\n\nconst ShortUrls = (SearchBar, ShortUrlsList) => {\n  const propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.object,\n    }),\n    shortUrlsList: PropTypes.object,\n  };\n\n  const ShortUrlsComponent = (props) => {\n    const { match: { params }, shortUrlsList } = props;\n    const { page, serverId } = params;\n    const { data = [], pagination } = shortUrlsList;\n\n    // Using a key on a component makes react to create a new instance every time the key changes\n    const urlsListKey = `${serverId}_${page}`;\n\n    return (\n      <div className=\"shlink-container\">\n        <div className=\"form-group\"><SearchBar /></div>\n        <ShortUrlsList {...props} shortUrlsList={data} key={urlsListKey} />\n        <Paginator paginator={pagination} serverId={serverId} />\n      </div>\n    );\n  };\n\n  ShortUrlsComponent.propTypes = propTypes;\n\n  return ShortUrlsComponent;\n};\n\nexport default ShortUrls;\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch as searchIcon } from '@fortawesome/free-solid-svg-icons';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './SearchField.scss';\n\nconst DEFAULT_SEARCH_INTERVAL = 500;\n\nexport default class SearchField extends React.Component {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    placeholder: PropTypes.string,\n  };\n  static defaultProps = {\n    className: '',\n    placeholder: 'Search...',\n  };\n\n  state = { showClearBtn: false, searchTerm: '' };\n  timer = null;\n\n  searchTermChanged(searchTerm, timeout = DEFAULT_SEARCH_INTERVAL) {\n    this.setState({\n      showClearBtn: searchTerm !== '',\n      searchTerm,\n    });\n\n    const resetTimer = () => {\n      clearTimeout(this.timer);\n      this.timer = null;\n    };\n\n    resetTimer();\n\n    this.timer = setTimeout(() => {\n      this.props.onChange(searchTerm);\n      resetTimer();\n    }, timeout);\n  }\n\n  render() {\n    const { className, placeholder } = this.props;\n\n    return (\n      <div className={classNames('search-field', className)}>\n        <input\n          type=\"text\"\n          className=\"form-control form-control-lg search-field__input\"\n          placeholder={placeholder}\n          value={this.state.searchTerm}\n          onChange={(e) => this.searchTermChanged(e.target.value)}\n        />\n        <FontAwesomeIcon icon={searchIcon} className=\"search-field__icon\" />\n        <div\n          className=\"close search-field__close\"\n          hidden={!this.state.showClearBtn}\n          id=\"search-field__close\"\n          onClick={() => this.searchTermChanged('', 0)}\n        >\n          &times;\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Tag.scss';\nimport { colorGeneratorType } from '../../utils/services/ColorGenerator';\n\nconst propTypes = {\n  text: PropTypes.string,\n  children: PropTypes.node,\n  clearable: PropTypes.bool,\n  colorGenerator: colorGeneratorType,\n  onClick: PropTypes.func,\n  onClose: PropTypes.func,\n};\n\nconst Tag = ({\n  text,\n  children,\n  clearable,\n  colorGenerator,\n  onClick = () => {},\n  onClose = () => {},\n}) => (\n  <span\n    className=\"badge tag\"\n    style={{ backgroundColor: colorGenerator.getColorForKey(text), cursor: clearable ? 'auto' : 'pointer' }}\n    onClick={onClick}\n  >\n    {children || text}\n    {clearable && <span className=\"close tag__close-selected-tag\" onClick={onClose}>&times;</span>}\n  </span>\n);\n\nTag.propTypes = propTypes;\n\nexport default Tag;\n","import React from 'react';\nimport { isNil } from 'ramda';\nimport DatePicker from 'react-datepicker';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCalendarAlt as calendarIcon } from '@fortawesome/free-regular-svg-icons';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './DateInput.scss';\n\nconst propTypes = {\n  className: PropTypes.string,\n  isClearable: PropTypes.bool,\n  selected: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),\n  ref: PropTypes.object,\n};\n\nconst DateInput = (props) => {\n  const { className, isClearable, selected, ref = React.createRef() } = props;\n  const showCalendarIcon = !isClearable || isNil(selected);\n\n  return (\n    <div className=\"date-input-container\">\n      <DatePicker\n        {...props}\n        className={classNames('date-input-container__input form-control', className)}\n        dateFormat=\"YYYY-MM-DD\"\n        readOnly\n        ref={ref}\n      />\n      {showCalendarIcon && (\n        <FontAwesomeIcon\n          icon={calendarIcon}\n          className=\"date-input-container__icon\"\n          onClick={() => ref.current.input.focus()}\n        />\n      )}\n    </div>\n  );\n};\n\nDateInput.propTypes = propTypes;\n\nexport default DateInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DateInput from './DateInput';\nimport './DateRangeRow.scss';\n\nconst dateType = PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]);\nconst propTypes = {\n  startDate: dateType,\n  endDate: dateType,\n  onStartDateChange: PropTypes.func.isRequired,\n  onEndDateChange: PropTypes.func.isRequired,\n};\n\nconst DateRangeRow = ({ startDate, endDate, onStartDateChange, onEndDateChange }) => (\n  <div className=\"row\">\n    <div className=\"col-xl-3 col-lg-4 col-md-6 offset-xl-6 offset-lg-4\">\n      <DateInput\n        selected={startDate}\n        placeholderText=\"Since\"\n        isClearable\n        maxDate={endDate}\n        onChange={onStartDateChange}\n      />\n    </div>\n    <div className=\"col-xl-3 col-lg-4 col-md-6\">\n      <DateInput\n        className=\"date-range-row__date-input\"\n        selected={endDate}\n        placeholderText=\"Until\"\n        isClearable\n        minDate={startDate}\n        onChange={onEndDateChange}\n      />\n    </div>\n  </div>\n);\n\nDateRangeRow.propTypes = propTypes;\n\nexport default DateRangeRow;\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_SHORT_URL_TAGS_START = 'shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_START';\nexport const EDIT_SHORT_URL_TAGS_ERROR = 'shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_ERROR';\nexport const SHORT_URL_TAGS_EDITED = 'shlink/shortUrlTags/SHORT_URL_TAGS_EDITED';\nexport const RESET_EDIT_SHORT_URL_TAGS = 'shlink/shortUrlTags/RESET_EDIT_SHORT_URL_TAGS';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlTagsType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n  saving: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n});\n\nconst initialState = {\n  shortCode: null,\n  tags: [],\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_SHORT_URL_TAGS_START]: (state) => ({ ...state, saving: true, error: false }),\n  [EDIT_SHORT_URL_TAGS_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [SHORT_URL_TAGS_EDITED]: (state, { shortCode, tags }) => ({ shortCode, tags, saving: false, error: false }),\n  [RESET_EDIT_SHORT_URL_TAGS]: () => initialState,\n}, initialState);\n\nexport const editShortUrlTags = (buildShlinkApiClient) => (shortCode, domain, tags) => async (dispatch, getState) => {\n  dispatch({ type: EDIT_SHORT_URL_TAGS_START });\n  const { updateShortUrlTags } = await buildShlinkApiClient(getState);\n\n  try {\n    const normalizedTags = await updateShortUrlTags(shortCode, domain, tags);\n\n    dispatch({ tags: normalizedTags, shortCode, domain, type: SHORT_URL_TAGS_EDITED });\n  } catch (e) {\n    dispatch({ type: EDIT_SHORT_URL_TAGS_ERROR });\n\n    throw e;\n  }\n};\n\nexport const resetShortUrlsTags = createAction(RESET_EDIT_SHORT_URL_TAGS);\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { apiErrorType } from '../../utils/services/ShlinkApiClient';\n\n/* eslint-disable padding-line-between-statements */\nexport const DELETE_SHORT_URL_START = 'shlink/deleteShortUrl/DELETE_SHORT_URL_START';\nexport const DELETE_SHORT_URL_ERROR = 'shlink/deleteShortUrl/DELETE_SHORT_URL_ERROR';\nexport const SHORT_URL_DELETED = 'shlink/deleteShortUrl/SHORT_URL_DELETED';\nexport const RESET_DELETE_SHORT_URL = 'shlink/deleteShortUrl/RESET_DELETE_SHORT_URL';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlDeletionType = PropTypes.shape({\n  shortCode: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n  errorData: apiErrorType.isRequired,\n});\n\nconst initialState = {\n  shortCode: '',\n  loading: false,\n  error: false,\n  errorData: {},\n};\n\nexport default handleActions({\n  [DELETE_SHORT_URL_START]: (state) => ({ ...state, loading: true, error: false }),\n  [DELETE_SHORT_URL_ERROR]: (state, { errorData }) => ({ ...state, errorData, loading: false, error: true }),\n  [SHORT_URL_DELETED]: (state, { shortCode }) => ({ ...state, shortCode, loading: false, error: false }),\n  [RESET_DELETE_SHORT_URL]: () => initialState,\n}, initialState);\n\nexport const deleteShortUrl = (buildShlinkApiClient) => (shortCode, domain) => async (dispatch, getState) => {\n  dispatch({ type: DELETE_SHORT_URL_START });\n\n  const { deleteShortUrl } = await buildShlinkApiClient(getState);\n\n  try {\n    await deleteShortUrl(shortCode, domain);\n    dispatch({ type: SHORT_URL_DELETED, shortCode, domain });\n  } catch (e) {\n    dispatch({ type: DELETE_SHORT_URL_ERROR, errorData: e.response.data });\n\n    throw e;\n  }\n};\n\nexport const resetDeleteShortUrl = createAction(RESET_DELETE_SHORT_URL);\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_SHORT_URL_META_START = 'shlink/shortUrlMeta/EDIT_SHORT_URL_META_START';\nexport const EDIT_SHORT_URL_META_ERROR = 'shlink/shortUrlMeta/EDIT_SHORT_URL_META_ERROR';\nexport const SHORT_URL_META_EDITED = 'shlink/shortUrlMeta/SHORT_URL_META_EDITED';\nexport const RESET_EDIT_SHORT_URL_META = 'shlink/shortUrlMeta/RESET_EDIT_SHORT_URL_META';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlMetaType = PropTypes.shape({\n  validSince: PropTypes.string,\n  validUntil: PropTypes.string,\n  maxVisits: PropTypes.number,\n});\n\nexport const shortUrlEditMetaType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  meta: shortUrlMetaType.isRequired,\n  saving: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n});\n\nconst initialState = {\n  shortCode: null,\n  meta: {},\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_SHORT_URL_META_START]: (state) => ({ ...state, saving: true, error: false }),\n  [EDIT_SHORT_URL_META_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [SHORT_URL_META_EDITED]: (state, { shortCode, meta }) => ({ shortCode, meta, saving: false, error: false }),\n  [RESET_EDIT_SHORT_URL_META]: () => initialState,\n}, initialState);\n\nexport const editShortUrlMeta = (buildShlinkApiClient) => (shortCode, domain, meta) => async (dispatch, getState) => {\n  dispatch({ type: EDIT_SHORT_URL_META_START });\n  const { updateShortUrlMeta } = await buildShlinkApiClient(getState);\n\n  try {\n    await updateShortUrlMeta(shortCode, domain, meta);\n    dispatch({ shortCode, meta, domain, type: SHORT_URL_META_EDITED });\n  } catch (e) {\n    dispatch({ type: EDIT_SHORT_URL_META_ERROR });\n\n    throw e;\n  }\n};\n\nexport const resetShortUrlMeta = createAction(RESET_EDIT_SHORT_URL_META);\n","import { handleActions } from 'redux-actions';\nimport { assoc, assocPath, isNil, reject } from 'ramda';\nimport PropTypes from 'prop-types';\nimport { SHORT_URL_TAGS_EDITED } from './shortUrlTags';\nimport { SHORT_URL_DELETED } from './shortUrlDeletion';\nimport { SHORT_URL_META_EDITED, shortUrlMetaType } from './shortUrlMeta';\n\n/* eslint-disable padding-line-between-statements */\nexport const LIST_SHORT_URLS_START = 'shlink/shortUrlsList/LIST_SHORT_URLS_START';\nexport const LIST_SHORT_URLS_ERROR = 'shlink/shortUrlsList/LIST_SHORT_URLS_ERROR';\nexport const LIST_SHORT_URLS = 'shlink/shortUrlsList/LIST_SHORT_URLS';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  shortUrl: PropTypes.string,\n  longUrl: PropTypes.string,\n  visitsCount: PropTypes.number,\n  meta: shortUrlMetaType,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  domain: PropTypes.string,\n});\n\nconst initialState = {\n  shortUrls: {},\n  loading: true,\n  error: false,\n};\n\nconst shortUrlMatches = (shortUrl, shortCode, domain) => {\n  if (isNil(domain)) {\n    return shortUrl.shortCode === shortCode && !shortUrl.domain;\n  }\n\n  return shortUrl.shortCode === shortCode && shortUrl.domain === domain;\n};\n\nconst setPropFromActionOnMatchingShortUrl = (prop) => (state, { shortCode, domain, [prop]: propValue }) => assocPath(\n  [ 'shortUrls', 'data' ],\n  state.shortUrls.data.map(\n    (shortUrl) => shortUrlMatches(shortUrl, shortCode, domain) ? assoc(prop, propValue, shortUrl) : shortUrl\n  ),\n  state\n);\n\nexport default handleActions({\n  [LIST_SHORT_URLS_START]: (state) => ({ ...state, loading: true, error: false }),\n  [LIST_SHORT_URLS]: (state, { shortUrls }) => ({ loading: false, error: false, shortUrls }),\n  [LIST_SHORT_URLS_ERROR]: () => ({ loading: false, error: true, shortUrls: {} }),\n  [SHORT_URL_DELETED]: (state, { shortCode, domain }) => assocPath(\n    [ 'shortUrls', 'data' ],\n    reject((shortUrl) => shortUrlMatches(shortUrl, shortCode, domain), state.shortUrls.data),\n    state,\n  ),\n  [SHORT_URL_TAGS_EDITED]: setPropFromActionOnMatchingShortUrl('tags'),\n  [SHORT_URL_META_EDITED]: setPropFromActionOnMatchingShortUrl('meta'),\n}, initialState);\n\nexport const listShortUrls = (buildShlinkApiClient) => (params = {}) => async (dispatch, getState) => {\n  dispatch({ type: LIST_SHORT_URLS_START });\n\n  const { listShortUrls } = await buildShlinkApiClient(getState);\n\n  try {\n    const shortUrls = await listShortUrls(params);\n\n    dispatch({ type: LIST_SHORT_URLS, shortUrls, params });\n  } catch (e) {\n    dispatch({ type: LIST_SHORT_URLS_ERROR, params });\n  }\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { LIST_SHORT_URLS } from './shortUrlsList';\n\nexport const RESET_SHORT_URL_PARAMS = 'shlink/shortUrlsListParams/RESET_SHORT_URL_PARAMS';\n\nexport const shortUrlsListParamsType = PropTypes.shape({\n  page: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  searchTerm: PropTypes.string,\n  startDate: PropTypes.string,\n  endDate: PropTypes.string,\n  orderBy: PropTypes.object,\n});\n\nconst initialState = { page: '1' };\n\nexport default handleActions({\n  [LIST_SHORT_URLS]: (state, { params }) => ({ ...state, ...params }),\n  [RESET_SHORT_URL_PARAMS]: () => initialState,\n}, initialState);\n\nexport const resetShortUrlParams = createAction(RESET_SHORT_URL_PARAMS);\n","import { faTags as tagsIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { isEmpty, pipe } from 'ramda';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport SearchField from '../utils/SearchField';\nimport Tag from '../tags/helpers/Tag';\nimport DateRangeRow from '../utils/DateRangeRow';\nimport { formatDate } from '../utils/utils';\nimport { shortUrlsListParamsType } from './reducers/shortUrlsListParams';\nimport './SearchBar.scss';\n\nconst propTypes = {\n  listShortUrls: PropTypes.func,\n  shortUrlsListParams: shortUrlsListParamsType,\n};\n\nconst dateOrUndefined = (date) => date ? moment(date) : undefined;\n\nconst SearchBar = (colorGenerator, ForServerVersion) => {\n  const SearchBar = ({ listShortUrls, shortUrlsListParams }) => {\n    const selectedTags = shortUrlsListParams.tags || [];\n    const setDate = (dateName) => pipe(\n      formatDate(),\n      (date) => listShortUrls({ ...shortUrlsListParams, [dateName]: date })\n    );\n\n    return (\n      <div className=\"search-bar-container\">\n        <SearchField\n          onChange={\n            (searchTerm) => listShortUrls({ ...shortUrlsListParams, searchTerm })\n          }\n        />\n\n        <ForServerVersion minVersion=\"1.21.0\">\n          <div className=\"mt-3\">\n            <DateRangeRow\n              startDate={dateOrUndefined(shortUrlsListParams.startDate)}\n              endDate={dateOrUndefined(shortUrlsListParams.endDate)}\n              onStartDateChange={setDate('startDate')}\n              onEndDateChange={setDate('endDate')}\n            />\n          </div>\n        </ForServerVersion>\n\n        {!isEmpty(selectedTags) && (\n          <h4 className=\"search-bar__selected-tag mt-3\">\n            <FontAwesomeIcon icon={tagsIcon} className=\"search-bar__tags-icon\" />\n            &nbsp;\n            {selectedTags.map((tag) => (\n              <Tag\n                colorGenerator={colorGenerator}\n                key={tag}\n                text={tag}\n                clearable\n                onClose={() => listShortUrls(\n                  {\n                    ...shortUrlsListParams,\n                    tags: selectedTags.filter((selectedTag) => selectedTag !== tag),\n                  }\n                )}\n              />\n            ))}\n          </h4>\n        )}\n      </div>\n    );\n  };\n\n  SearchBar.propTypes = propTypes;\n\n  return SearchBar;\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { toPairs } from 'ramda';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSortAmountUp as sortAscIcon, faSortAmountDown as sortDescIcon } from '@fortawesome/free-solid-svg-icons';\nimport classNames from 'classnames';\nimport { determineOrderDir } from './utils';\nimport './SortingDropdown.scss';\n\nconst propTypes = {\n  items: PropTypes.object.isRequired,\n  orderField: PropTypes.string,\n  orderDir: PropTypes.oneOf([ 'ASC', 'DESC' ]),\n  onChange: PropTypes.func.isRequired,\n  isButton: PropTypes.bool,\n  right: PropTypes.bool,\n};\nconst defaultProps = {\n  isButton: true,\n  right: false,\n};\n\nconst SortingDropdown = ({ items, orderField, orderDir, onChange, isButton, right }) => {\n  const handleItemClick = (fieldKey) => () => {\n    const newOrderDir = determineOrderDir(fieldKey, orderField, orderDir);\n\n    onChange(newOrderDir ? fieldKey : undefined, newOrderDir);\n  };\n\n  return (\n    <UncontrolledDropdown>\n      <DropdownToggle\n        caret\n        color={isButton ? 'secondary' : 'link'}\n        className={classNames({ 'btn-block': isButton, 'btn-sm paddingless': !isButton })}\n      >\n        Order by\n      </DropdownToggle>\n      <DropdownMenu\n        right={right}\n        className={classNames('sorting-dropdown__menu', { 'sorting-dropdown__menu--link': !isButton })}\n      >\n        {toPairs(items).map(([ fieldKey, fieldValue ]) => (\n          <DropdownItem key={fieldKey} active={orderField === fieldKey} onClick={handleItemClick(fieldKey)}>\n            {fieldValue}\n            {orderField === fieldKey && (\n              <FontAwesomeIcon\n                icon={orderDir === 'ASC' ? sortAscIcon : sortDescIcon}\n                className=\"sorting-dropdown__sort-icon\"\n              />\n            )}\n          </DropdownItem>\n        ))}\n        <DropdownItem divider />\n        <DropdownItem disabled={!orderField} onClick={() => onChange()}>\n          <i>Clear selection</i>\n        </DropdownItem>\n      </DropdownMenu>\n    </UncontrolledDropdown>\n  );\n};\n\nSortingDropdown.propTypes = propTypes;\nSortingDropdown.defaultProps = defaultProps;\n\nexport default SortingDropdown;\n","import { faCaretDown as caretDownIcon, faCaretUp as caretUpIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { head, isEmpty, keys, values } from 'ramda';\nimport React from 'react';\nimport qs from 'qs';\nimport PropTypes from 'prop-types';\nimport { serverType } from '../servers/prop-types';\nimport SortingDropdown from '../utils/SortingDropdown';\nimport { determineOrderDir } from '../utils/utils';\nimport { shortUrlType } from './reducers/shortUrlsList';\nimport { shortUrlsListParamsType } from './reducers/shortUrlsListParams';\nimport './ShortUrlsList.scss';\n\nexport const SORTABLE_FIELDS = {\n  dateCreated: 'Created at',\n  shortCode: 'Short URL',\n  longUrl: 'Long URL',\n  visits: 'Visits',\n};\n\n// FIXME Replace with typescript: (ShortUrlsRow component)\nconst ShortUrlsList = (ShortUrlsRow) => class ShortUrlsList extends React.Component {\n  static propTypes = {\n    listShortUrls: PropTypes.func,\n    resetShortUrlParams: PropTypes.func,\n    shortUrlsListParams: shortUrlsListParamsType,\n    match: PropTypes.object,\n    location: PropTypes.object,\n    loading: PropTypes.bool,\n    error: PropTypes.bool,\n    shortUrlsList: PropTypes.arrayOf(shortUrlType),\n    selectedServer: serverType,\n  };\n\n  refreshList = (extraParams) => {\n    const { listShortUrls, shortUrlsListParams } = this.props;\n\n    listShortUrls({\n      ...shortUrlsListParams,\n      ...extraParams,\n    });\n  };\n\n  handleOrderBy = (orderField, orderDir) => {\n    this.setState({ orderField, orderDir });\n    this.refreshList({ orderBy: { [orderField]: orderDir } });\n  };\n\n  orderByColumn = (columnName) => () =>\n    this.handleOrderBy(columnName, determineOrderDir(columnName, this.state.orderField, this.state.orderDir));\n\n  renderOrderIcon = (field) => {\n    if (this.state.orderField !== field) {\n      return null;\n    }\n\n    if (!this.state.orderDir) {\n      return null;\n    }\n\n    return (\n      <FontAwesomeIcon\n        icon={this.state.orderDir === 'ASC' ? caretUpIcon : caretDownIcon}\n        className=\"short-urls-list__header-icon\"\n      />\n    );\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { orderBy } = props.shortUrlsListParams;\n\n    this.state = {\n      orderField: orderBy ? head(keys(orderBy)) : undefined,\n      orderDir: orderBy ? head(values(orderBy)) : undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { match: { params }, location, shortUrlsListParams } = this.props;\n    const query = qs.parse(location.search, { ignoreQueryPrefix: true });\n    const tags = query.tag ? [ query.tag ] : shortUrlsListParams.tags;\n\n    this.refreshList({ page: params.page, tags });\n  }\n\n  componentWillUnmount() {\n    const { resetShortUrlParams } = this.props;\n\n    resetShortUrlParams();\n  }\n\n  renderShortUrls() {\n    const { shortUrlsList, selectedServer, loading, error, shortUrlsListParams } = this.props;\n\n    if (error) {\n      return (\n        <tr>\n          <td colSpan=\"6\" className=\"text-center table-danger\">Something went wrong while loading short URLs :(</td>\n        </tr>\n      );\n    }\n\n    if (loading) {\n      return <tr><td colSpan=\"6\" className=\"text-center\">Loading...</td></tr>;\n    }\n\n    if (!loading && isEmpty(shortUrlsList)) {\n      return <tr><td colSpan=\"6\" className=\"text-center\">No results found</td></tr>;\n    }\n\n    return shortUrlsList.map((shortUrl) => (\n      <ShortUrlsRow\n        shortUrl={shortUrl}\n        selectedServer={selectedServer}\n        key={shortUrl.shortCode}\n        refreshList={this.refreshList}\n        shortUrlsListParams={shortUrlsListParams}\n      />\n    ));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"d-block d-md-none mb-3\">\n          <SortingDropdown\n            items={SORTABLE_FIELDS}\n            orderField={this.state.orderField}\n            orderDir={this.state.orderDir}\n            onChange={this.handleOrderBy}\n          />\n        </div>\n        <table className=\"table table-striped table-hover\">\n          <thead className=\"short-urls-list__header\">\n            <tr>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('dateCreated')}\n              >\n                {this.renderOrderIcon('dateCreated')}\n                Created at\n              </th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('shortCode')}\n              >\n                {this.renderOrderIcon('shortCode')}\n                Short URL\n              </th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('longUrl')}\n              >\n                {this.renderOrderIcon('longUrl')}\n                Long URL\n              </th>\n              <th className=\"short-urls-list__header-cell\">Tags</th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('visits')}\n              >\n                <span className=\"nowrap\">{this.renderOrderIcon('visits')} Visits</span>\n              </th>\n              <th className=\"short-urls-list__header-cell\">&nbsp;</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderShortUrls()}\n          </tbody>\n        </table>\n      </React.Fragment>\n    );\n  }\n};\n\nexport default ShortUrlsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\n\nconst propTypes = {\n  shortUrl: shortUrlType,\n  selectedServer: serverType,\n  children: PropTypes.node.isRequired,\n};\n\nconst buildVisitsUrl = ({ id }, { shortCode, domain }) => {\n  const query = domain ? `?domain=${domain}` : '';\n\n  return `/server/${id}/short-code/${shortCode}/visits${query}`;\n};\n\nconst VisitStatsLink = ({ selectedServer, shortUrl, children, ...rest }) => {\n  if (!selectedServer || !shortUrl) {\n    return <span {...rest}>{children}</span>;\n  }\n\n  return <Link to={buildVisitsUrl(selectedServer, shortUrl)} {...rest}>{children}</Link>;\n};\n\nVisitStatsLink.propTypes = propTypes;\n\nexport default VisitStatsLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport './ShortUrlVisitsCount.scss';\nimport VisitStatsLink from './VisitStatsLink';\n\nconst propTypes = {\n  visitsCount: PropTypes.number.isRequired,\n  shortUrl: shortUrlType,\n  selectedServer: serverType,\n};\n\nconst ShortUrlVisitsCount = ({ visitsCount, shortUrl, selectedServer }) => {\n  const maxVisits = shortUrl && shortUrl.meta && shortUrl.meta.maxVisits;\n  const visitsLink = (\n    <VisitStatsLink selectedServer={selectedServer} shortUrl={shortUrl}>\n      <strong>{visitsCount}</strong>\n    </VisitStatsLink>\n  );\n\n  if (!maxVisits) {\n    return visitsLink;\n  }\n\n  return (\n    <React.Fragment>\n      <span className=\"indivisible\">\n        {visitsLink}\n        <small id=\"maxVisitsControl\" className=\"short-urls-visits-count__max-visits-control\">\n          {' '}/ {maxVisits}{' '}\n          <sup>\n            <FontAwesomeIcon icon={infoIcon} />\n          </sup>\n        </small>\n      </span>\n      <UncontrolledTooltip target=\"maxVisitsControl\" placement=\"bottom\">\n        This short URL will not accept more than <b>{maxVisits}</b> visits.\n      </UncontrolledTooltip>\n    </React.Fragment>\n  );\n};\n\nShortUrlVisitsCount.propTypes = propTypes;\n\nexport default ShortUrlVisitsCount;\n","import { isEmpty } from 'ramda';\nimport React from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport { shortUrlsListParamsType } from '../reducers/shortUrlsListParams';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport Tag from '../../tags/helpers/Tag';\nimport ShortUrlVisitsCount from './ShortUrlVisitsCount';\nimport './ShortUrlsRow.scss';\n\nconst ShortUrlsRow = (\n  ShortUrlsRowMenu,\n  colorGenerator,\n  stateFlagTimeout\n) => class ShortUrlsRow extends React.Component {\n  static propTypes = {\n    refreshList: PropTypes.func,\n    shortUrlsListParams: shortUrlsListParamsType,\n    selectedServer: serverType,\n    shortUrl: shortUrlType,\n  };\n\n  state = { copiedToClipboard: false };\n\n  renderTags(tags) {\n    if (isEmpty(tags)) {\n      return <i className=\"nowrap\"><small>No tags</small></i>;\n    }\n\n    const { refreshList, shortUrlsListParams } = this.props;\n    const selectedTags = shortUrlsListParams.tags || [];\n\n    return tags.map((tag) => (\n      <Tag\n        colorGenerator={colorGenerator}\n        key={tag}\n        text={tag}\n        onClick={() => refreshList({ tags: [ ...selectedTags, tag ] })}\n      />\n    ));\n  }\n\n  render() {\n    const { shortUrl, selectedServer } = this.props;\n\n    return (\n      <tr className=\"short-urls-row\">\n        <td className=\"nowrap short-urls-row__cell\" data-th=\"Created at: \">\n          <Moment format=\"YYYY-MM-DD HH:mm\">{shortUrl.dateCreated}</Moment>\n        </td>\n        <td className=\"short-urls-row__cell\" data-th=\"Short URL: \">\n          <ExternalLink href={shortUrl.shortUrl} />\n        </td>\n        <td className=\"short-urls-row__cell short-urls-row__cell--break\" data-th=\"Long URL: \">\n          <ExternalLink href={shortUrl.longUrl} />\n        </td>\n        <td className=\"short-urls-row__cell\" data-th=\"Tags: \">{this.renderTags(shortUrl.tags)}</td>\n        <td className=\"short-urls-row__cell text-md-right\" data-th=\"Visits: \">\n          <ShortUrlVisitsCount\n            visitsCount={shortUrl.visitsCount}\n            shortUrl={shortUrl}\n            selectedServer={selectedServer}\n          />\n        </td>\n        <td className=\"short-urls-row__cell short-urls-row__cell--relative\">\n          <small\n            className=\"badge badge-warning short-urls-row__copy-hint\"\n            hidden={!this.state.copiedToClipboard}\n          >\n            Copied short URL!\n          </small>\n          <ShortUrlsRowMenu\n            selectedServer={selectedServer}\n            shortUrl={shortUrl}\n            onCopyToClipboard={() => stateFlagTimeout(this.setState.bind(this), 'copiedToClipboard')}\n          />\n        </td>\n      </tr>\n    );\n  }\n};\n\nexport default ShortUrlsRow;\n","import React from 'react';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport './PreviewModal.scss';\n\nconst propTypes = {\n  url: PropTypes.string,\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n};\n\nconst PreviewModal = ({ url, toggle, isOpen }) => (\n  <Modal isOpen={isOpen} toggle={toggle} size=\"lg\">\n    <ModalHeader toggle={toggle}>\n      Preview for <ExternalLink href={url}>{url}</ExternalLink>\n    </ModalHeader>\n    <ModalBody>\n      <div className=\"text-center\">\n        <p className=\"preview-modal__loader\">Loading...</p>\n        <img src={`${url}/preview`} className=\"preview-modal__img\" alt=\"Preview\" />\n      </div>\n    </ModalBody>\n  </Modal>\n);\n\nPreviewModal.propTypes = propTypes;\n\nexport default PreviewModal;\n","import React from 'react';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport './QrCodeModal.scss';\n\nconst propTypes = {\n  url: PropTypes.string,\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n};\n\nconst QrCodeModal = ({ url, toggle, isOpen }) => (\n  <Modal isOpen={isOpen} toggle={toggle} centered>\n    <ModalHeader toggle={toggle}>\n      QR code for <ExternalLink href={url}>{url}</ExternalLink>\n    </ModalHeader>\n    <ModalBody>\n      <div className=\"text-center\">\n        <img src={`${url}/qr-code`} className=\"qr-code-modal__img\" alt=\"QR code\" />\n      </div>\n    </ModalBody>\n  </Modal>\n);\n\nQrCodeModal.propTypes = propTypes;\n\nexport default QrCodeModal;\n","import { faCopy as copyIcon, faImage as pictureIcon } from '@fortawesome/free-regular-svg-icons';\nimport {\n  faTags as tagsIcon,\n  faChartPie as pieChartIcon,\n  faEllipsisV as menuIcon,\n  faQrcode as qrIcon,\n  faMinusCircle as deleteIcon,\n  faEdit as editIcon,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { ButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport PreviewModal from './PreviewModal';\nimport QrCodeModal from './QrCodeModal';\nimport VisitStatsLink from './VisitStatsLink';\nimport './ShortUrlsRowMenu.scss';\n\nconst ShortUrlsRowMenu = (\n  DeleteShortUrlModal,\n  EditTagsModal,\n  EditMetaModal,\n  ForServerVersion\n) => class ShortUrlsRowMenu extends React.Component {\n  static propTypes = {\n    onCopyToClipboard: PropTypes.func,\n    selectedServer: serverType,\n    shortUrl: shortUrlType,\n  };\n\n  state = {\n    isOpen: false,\n    isQrModalOpen: false,\n    isPreviewModalOpen: false,\n    isTagsModalOpen: false,\n    isMetaModalOpen: false,\n    isDeleteModalOpen: false,\n  };\n  toggle = () => this.setState(({ isOpen }) => ({ isOpen: !isOpen }));\n\n  render() {\n    const { onCopyToClipboard, shortUrl, selectedServer } = this.props;\n    const completeShortUrl = shortUrl && shortUrl.shortUrl ? shortUrl.shortUrl : '';\n    const toggleModal = (prop) => () => this.setState((prevState) => ({ [prop]: !prevState[prop] }));\n    const toggleQrCode = toggleModal('isQrModalOpen');\n    const togglePreview = toggleModal('isPreviewModalOpen');\n    const toggleTags = toggleModal('isTagsModalOpen');\n    const toggleMeta = toggleModal('isMetaModalOpen');\n    const toggleDelete = toggleModal('isDeleteModalOpen');\n\n    return (\n      <ButtonDropdown toggle={this.toggle} isOpen={this.state.isOpen}>\n        <DropdownToggle size=\"sm\" caret outline className=\"short-urls-row-menu__dropdown-toggle\">\n          &nbsp;<FontAwesomeIcon icon={menuIcon} />&nbsp;\n        </DropdownToggle>\n        <DropdownMenu right>\n          <DropdownItem tag={VisitStatsLink} selectedServer={selectedServer} shortUrl={shortUrl}>\n            <FontAwesomeIcon icon={pieChartIcon} fixedWidth /> Visit stats\n          </DropdownItem>\n\n          <DropdownItem onClick={toggleTags}>\n            <FontAwesomeIcon icon={tagsIcon} fixedWidth /> Edit tags\n          </DropdownItem>\n          <EditTagsModal shortUrl={shortUrl} isOpen={this.state.isTagsModalOpen} toggle={toggleTags} />\n\n          <ForServerVersion minVersion=\"1.18.0\">\n            <DropdownItem onClick={toggleMeta}>\n              <FontAwesomeIcon icon={editIcon} fixedWidth /> Edit metadata\n            </DropdownItem>\n            <EditMetaModal shortUrl={shortUrl} isOpen={this.state.isMetaModalOpen} toggle={toggleMeta} />\n          </ForServerVersion>\n\n          <DropdownItem className=\"short-urls-row-menu__dropdown-item--danger\" onClick={toggleDelete}>\n            <FontAwesomeIcon icon={deleteIcon} fixedWidth /> Delete short URL\n          </DropdownItem>\n          <DeleteShortUrlModal shortUrl={shortUrl} isOpen={this.state.isDeleteModalOpen} toggle={toggleDelete} />\n\n          <DropdownItem divider />\n\n          <ForServerVersion maxVersion=\"1.x\">\n            <DropdownItem onClick={togglePreview}>\n              <FontAwesomeIcon icon={pictureIcon} fixedWidth /> Preview\n            </DropdownItem>\n            <PreviewModal url={completeShortUrl} isOpen={this.state.isPreviewModalOpen} toggle={togglePreview} />\n          </ForServerVersion>\n\n          <DropdownItem onClick={toggleQrCode}>\n            <FontAwesomeIcon icon={qrIcon} fixedWidth /> QR code\n          </DropdownItem>\n          <QrCodeModal url={completeShortUrl} isOpen={this.state.isQrModalOpen} toggle={toggleQrCode} />\n\n          <ForServerVersion maxVersion=\"1.x\">\n            <DropdownItem divider />\n          </ForServerVersion>\n\n          <CopyToClipboard text={completeShortUrl} onCopy={onCopyToClipboard}>\n            <DropdownItem>\n              <FontAwesomeIcon icon={copyIcon} fixedWidth /> Copy to clipboard\n            </DropdownItem>\n          </CopyToClipboard>\n        </DropdownMenu>\n      </ButtonDropdown>\n    );\n  }\n};\n\nexport default ShortUrlsRowMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { v4 as uuid } from 'uuid';\n\nconst propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]),\n  className: PropTypes.string,\n};\n\nconst Checkbox = ({ checked, onChange, className, children }) => {\n  const id = uuid();\n  const onChecked = (e) => onChange(e.target.checked, e);\n\n  return (\n    <span className={classNames('custom-control custom-checkbox', className)} style={{ display: 'inline' }}>\n      <input type=\"checkbox\" className=\"custom-control-input\" id={id} checked={checked} onChange={onChecked} />\n      <label className=\"custom-control-label\" htmlFor={id}>{children}</label>\n    </span>\n  );\n};\n\nCheckbox.propTypes = propTypes;\n\nexport default Checkbox;\n","import PropTypes from 'prop-types';\nimport { createAction, handleActions } from 'redux-actions';\n\n/* eslint-disable padding-line-between-statements */\nexport const CREATE_SHORT_URL_START = 'shlink/createShortUrl/CREATE_SHORT_URL_START';\nexport const CREATE_SHORT_URL_ERROR = 'shlink/createShortUrl/CREATE_SHORT_URL_ERROR';\nexport const CREATE_SHORT_URL = 'shlink/createShortUrl/CREATE_SHORT_URL';\nexport const RESET_CREATE_SHORT_URL = 'shlink/createShortUrl/RESET_CREATE_SHORT_URL';\n/* eslint-enable padding-line-between-statements */\n\nexport const createShortUrlResultType = PropTypes.shape({\n  result: PropTypes.shape({\n    shortUrl: PropTypes.string,\n  }),\n  saving: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  result: null,\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [CREATE_SHORT_URL_START]: (state) => ({ ...state, saving: true, error: false }),\n  [CREATE_SHORT_URL_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [CREATE_SHORT_URL]: (state, { result }) => ({ result, saving: false, error: false }),\n  [RESET_CREATE_SHORT_URL]: () => initialState,\n}, initialState);\n\nexport const createShortUrl = (buildShlinkApiClient) => (data) => async (dispatch, getState) => {\n  dispatch({ type: CREATE_SHORT_URL_START });\n\n  const { createShortUrl } = await buildShlinkApiClient(getState);\n\n  try {\n    const result = await createShortUrl(data);\n\n    dispatch({ type: CREATE_SHORT_URL, result });\n  } catch (e) {\n    dispatch({ type: CREATE_SHORT_URL_ERROR });\n  }\n};\n\nexport const resetCreateShortUrl = createAction(RESET_CREATE_SHORT_URL);\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport './UseExistingIfFoundInfoIcon.scss';\nimport { useToggle } from '../utils/utils';\n\nconst renderInfoModal = (isOpen, toggle) => (\n  <Modal isOpen={isOpen} toggle={toggle} centered size=\"lg\">\n    <ModalHeader toggle={toggle}>Info</ModalHeader>\n    <ModalBody>\n      <p>\n        When the&nbsp;\n        <b><i>&quot;Use existing URL if found&quot;</i></b>\n        &nbsp;checkbox is checked, the server will return an existing short URL if it matches provided params.\n      </p>\n      <p>\n        These are the checks performed by Shlink in order to determine if an existing short URL should be returned:\n      </p>\n      <ul>\n        <li>\n          When only the long URL is provided: The most recent match will be returned, or a new short URL will be created\n          if none is found.\n        </li>\n        <li>\n          When long URL and custom slug and/or domain are provided: Same as in previous case, but it will try to match\n          the short URL using both the long URL and the slug, the long URL and the domain, or the three of them.\n          <br />\n          If the slug is being used by another long URL, an error will be returned.\n        </li>\n        <li>\n          When other params are provided: Same as in previous cases, but it will try to match existing short URLs with\n          all provided data. If any of them does not match, a new short URL will be created\n        </li>\n      </ul>\n    </ModalBody>\n  </Modal>\n);\n\nconst UseExistingIfFoundInfoIcon = () => {\n  const [ isModalOpen, toggleModal ] = useToggle(false);\n\n  return (\n    <React.Fragment>\n      <span title=\"What does this mean?\">\n        <FontAwesomeIcon icon={infoIcon} style={{ cursor: 'pointer' }} onClick={toggleModal} />\n      </span>\n      {renderInfoModal(isModalOpen, toggleModal)}\n    </React.Fragment>\n  );\n};\n\nexport default UseExistingIfFoundInfoIcon;\n","import { faAngleDoubleDown as downIcon, faAngleDoubleUp as upIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { assoc, dissoc, isEmpty, isNil, pipe, replace, trim } from 'ramda';\nimport React from 'react';\nimport { Collapse, FormGroup, Input } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\nimport DateInput from '../utils/DateInput';\nimport Checkbox from '../utils/Checkbox';\nimport { serverType } from '../servers/prop-types';\nimport { compareVersions } from '../utils/utils';\nimport { createShortUrlResultType } from './reducers/shortUrlCreation';\nimport UseExistingIfFoundInfoIcon from './UseExistingIfFoundInfoIcon';\n\nconst normalizeTag = pipe(trim, replace(/ /g, '-'));\nconst formatDate = (date) => isNil(date) ? date : date.format();\n\nconst CreateShortUrl = (\n  TagsSelector,\n  CreateShortUrlResult,\n  ForServerVersion\n) => class CreateShortUrl extends React.Component {\n  static propTypes = {\n    createShortUrl: PropTypes.func,\n    shortUrlCreationResult: createShortUrlResultType,\n    resetCreateShortUrl: PropTypes.func,\n    selectedServer: serverType,\n  };\n\n  state = {\n    longUrl: '',\n    tags: [],\n    customSlug: undefined,\n    domain: undefined,\n    validSince: undefined,\n    validUntil: undefined,\n    maxVisits: undefined,\n    findIfExists: false,\n    moreOptionsVisible: false,\n  };\n\n  render() {\n    const { createShortUrl, shortUrlCreationResult, resetCreateShortUrl } = this.props;\n\n    const changeTags = (tags) => this.setState({ tags: tags.map(normalizeTag) });\n    const renderOptionalInput = (id, placeholder, type = 'text', props = {}) => (\n      <FormGroup>\n        <Input\n          id={id}\n          type={type}\n          placeholder={placeholder}\n          value={this.state[id]}\n          onChange={(e) => this.setState({ [id]: e.target.value })}\n          {...props}\n        />\n      </FormGroup>\n    );\n    const renderDateInput = (id, placeholder, props = {}) => (\n      <div className=\"form-group\">\n        <DateInput\n          selected={this.state[id]}\n          placeholderText={placeholder}\n          isClearable\n          onChange={(date) => this.setState({ [id]: date })}\n          {...props}\n        />\n      </div>\n    );\n    const save = (e) => {\n      e.preventDefault();\n      createShortUrl(pipe(\n        dissoc('moreOptionsVisible'),\n        assoc('validSince', formatDate(this.state.validSince)),\n        assoc('validUntil', formatDate(this.state.validUntil))\n      )(this.state));\n    };\n    const currentServerVersion = this.props.selectedServer ? this.props.selectedServer.version : '';\n    const disableDomain = isEmpty(currentServerVersion) || compareVersions(currentServerVersion, '<', '1.19.0-beta.1');\n\n    return (\n      <div className=\"shlink-container\">\n        <form onSubmit={save}>\n          <div className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"url\"\n              placeholder=\"Insert the URL to be shortened\"\n              required\n              value={this.state.longUrl}\n              onChange={(e) => this.setState({ longUrl: e.target.value })}\n            />\n          </div>\n\n          <Collapse isOpen={this.state.moreOptionsVisible}>\n            <div className=\"form-group\">\n              <TagsSelector tags={this.state.tags} onChange={changeTags} />\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                {renderOptionalInput('customSlug', 'Custom slug')}\n              </div>\n              <div className=\"col-sm-6\">\n                {renderOptionalInput('domain', 'Domain', 'text', {\n                  disabled: disableDomain,\n                  ...disableDomain && { title: 'Shlink 1.19.0 or higher is required to be able to provide the domain' },\n                })}\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                {renderOptionalInput('maxVisits', 'Maximum number of visits allowed', 'number', { min: 1 })}\n              </div>\n              <div className=\"col-sm-3\">\n                {renderDateInput('validSince', 'Enabled since...', { maxDate: this.state.validUntil })}\n              </div>\n              <div className=\"col-sm-3\">\n                {renderDateInput('validUntil', 'Enabled until...', { minDate: this.state.validSince })}\n              </div>\n            </div>\n\n            <ForServerVersion minVersion=\"1.16.0\">\n              <div className=\"mb-4 text-right\">\n                <Checkbox\n                  className=\"mr-2\"\n                  checked={this.state.findIfExists}\n                  onChange={(findIfExists) => this.setState({ findIfExists })}\n                >\n                  Use existing URL if found\n                </Checkbox>\n                <UseExistingIfFoundInfoIcon />\n              </div>\n            </ForServerVersion>\n          </Collapse>\n\n          <div>\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-secondary\"\n              onClick={() => this.setState(({ moreOptionsVisible }) => ({ moreOptionsVisible: !moreOptionsVisible }))}\n            >\n              <FontAwesomeIcon icon={this.state.moreOptionsVisible ? upIcon : downIcon} />\n              &nbsp;\n              {this.state.moreOptionsVisible ? 'Less' : 'More'} options\n            </button>\n            <button\n              className=\"btn btn-outline-primary float-right\"\n              disabled={shortUrlCreationResult.loading || isEmpty(this.state.longUrl)}\n            >\n              {shortUrlCreationResult.loading ? 'Creating...' : 'Create'}\n            </button>\n          </div>\n\n          <CreateShortUrlResult {...shortUrlCreationResult} resetCreateShortUrl={resetCreateShortUrl} />\n        </form>\n      </div>\n    );\n  }\n};\n\nexport default CreateShortUrl;\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { identity, pipe } from 'ramda';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { shortUrlDeletionType } from '../reducers/shortUrlDeletion';\n\nconst THRESHOLD_REACHED = 'INVALID_SHORTCODE_DELETION';\n\nexport default class DeleteShortUrlModal extends React.Component {\n  static propTypes = {\n    shortUrl: shortUrlType,\n    toggle: PropTypes.func,\n    isOpen: PropTypes.bool,\n    shortUrlDeletion: shortUrlDeletionType,\n    deleteShortUrl: PropTypes.func,\n    resetDeleteShortUrl: PropTypes.func,\n  };\n\n  state = { inputValue: '' };\n  handleDeleteUrl = (e) => {\n    e.preventDefault();\n\n    const { deleteShortUrl, shortUrl, toggle } = this.props;\n    const { shortCode, domain } = shortUrl;\n\n    deleteShortUrl(shortCode, domain)\n      .then(toggle)\n      .catch(identity);\n  };\n\n  componentWillUnmount() {\n    const { resetDeleteShortUrl } = this.props;\n\n    resetDeleteShortUrl();\n  }\n\n  render() {\n    const { shortUrl, toggle, isOpen, shortUrlDeletion, resetDeleteShortUrl } = this.props;\n    const { error, errorData } = shortUrlDeletion;\n    const errorCode = error && (errorData.type || errorData.error);\n    const hasThresholdError = errorCode === THRESHOLD_REACHED;\n    const hasErrorOtherThanThreshold = error && errorCode !== THRESHOLD_REACHED;\n    const close = pipe(resetDeleteShortUrl, toggle);\n\n    return (\n      <Modal isOpen={isOpen} toggle={close} centered>\n        <form onSubmit={this.handleDeleteUrl}>\n          <ModalHeader toggle={close}>\n            <span className=\"text-danger\">Delete short URL</span>\n          </ModalHeader>\n          <ModalBody>\n            <p><b className=\"text-danger\">Caution!</b> You are about to delete a short URL.</p>\n            <p>This action cannot be undone. Once you have deleted it, all the visits stats will be lost.</p>\n\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Insert the short code of the URL\"\n              value={this.state.inputValue}\n              onChange={(e) => this.setState({ inputValue: e.target.value })}\n            />\n\n            {hasThresholdError && (\n              <div className=\"p-2 mt-2 bg-warning text-center\">\n                {errorData.threshold && `This short URL has received more than ${errorData.threshold} visits, and therefore, it cannot be deleted.`}\n                {!errorData.threshold && 'This short URL has received too many visits, and therefore, it cannot be deleted.'}\n              </div>\n            )}\n            {hasErrorOtherThanThreshold && (\n              <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n                Something went wrong while deleting the URL :(\n              </div>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <button type=\"button\" className=\"btn btn-link\" onClick={close}>Cancel</button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-danger\"\n              disabled={this.state.inputValue !== shortUrl.shortCode || shortUrlDeletion.loading}\n            >\n              {shortUrlDeletion.loading ? 'Deleting...' : 'Delete'}\n            </button>\n          </ModalFooter>\n        </form>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport { pipe } from 'ramda';\nimport { shortUrlTagsType } from '../reducers/shortUrlTags';\nimport { shortUrlType } from '../reducers/shortUrlsList';\n\nconst EditTagsModal = (TagsSelector) => class EditTagsModal extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    toggle: PropTypes.func.isRequired,\n    shortUrl: shortUrlType.isRequired,\n    shortUrlTags: shortUrlTagsType,\n    editShortUrlTags: PropTypes.func,\n    resetShortUrlsTags: PropTypes.func,\n  };\n\n  saveTags = () => {\n    const { editShortUrlTags, shortUrl, toggle } = this.props;\n\n    editShortUrlTags(shortUrl.shortCode, shortUrl.domain, this.state.tags)\n      .then(toggle)\n      .catch(() => {});\n  };\n\n  componentDidMount() {\n    const { resetShortUrlsTags } = this.props;\n\n    resetShortUrlsTags();\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { tags: props.shortUrl.tags };\n  }\n\n  render() {\n    const { isOpen, toggle, shortUrl, shortUrlTags, resetShortUrlsTags } = this.props;\n    const url = shortUrl && (shortUrl.shortUrl || '');\n    const close = pipe(resetShortUrlsTags, toggle);\n\n    return (\n      <Modal isOpen={isOpen} toggle={close} centered>\n        <ModalHeader toggle={close}>\n          Edit tags for <ExternalLink href={url} />\n        </ModalHeader>\n        <ModalBody>\n          <TagsSelector tags={this.state.tags} onChange={(tags) => this.setState({ tags })} />\n          {shortUrlTags.error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while saving the tags :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" onClick={close}>Cancel</button>\n          <button\n            className=\"btn btn-primary\"\n            type=\"button\"\n            disabled={shortUrlTags.saving}\n            onClick={() => this.saveTags()}\n          >\n            {shortUrlTags.saving ? 'Saving tags...' : 'Save tags'}\n          </button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n};\n\nexport default EditTagsModal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, FormGroup, Input, UncontrolledTooltip } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { ExternalLink } from 'react-external-link';\nimport moment from 'moment';\nimport { isEmpty, pipe } from 'ramda';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { shortUrlEditMetaType } from '../reducers/shortUrlMeta';\nimport DateInput from '../../utils/DateInput';\nimport { formatIsoDate } from '../../utils/utils';\n\nconst propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n  shortUrl: shortUrlType.isRequired,\n  shortUrlMeta: shortUrlEditMetaType,\n  editShortUrlMeta: PropTypes.func,\n  resetShortUrlMeta: PropTypes.func,\n};\n\nconst dateOrUndefined = (shortUrl, dateName) => {\n  const date = shortUrl && shortUrl.meta && shortUrl.meta[dateName];\n\n  return date && moment(date);\n};\n\nconst EditMetaModal = (\n  { isOpen, toggle, shortUrl, shortUrlMeta, editShortUrlMeta, resetShortUrlMeta }\n) => {\n  const { saving, error } = shortUrlMeta;\n  const url = shortUrl && (shortUrl.shortUrl || '');\n  const [ validSince, setValidSince ] = useState(dateOrUndefined(shortUrl, 'validSince'));\n  const [ validUntil, setValidUntil ] = useState(dateOrUndefined(shortUrl, 'validUntil'));\n  const [ maxVisits, setMaxVisits ] = useState(shortUrl && shortUrl.meta && shortUrl.meta.maxVisits);\n\n  const close = pipe(resetShortUrlMeta, toggle);\n  const doEdit = () => editShortUrlMeta(shortUrl.shortCode, shortUrl.domain, {\n    maxVisits: maxVisits && !isEmpty(maxVisits) ? parseInt(maxVisits) : null,\n    validSince: validSince && formatIsoDate(validSince),\n    validUntil: validUntil && formatIsoDate(validUntil),\n  }).then(close);\n\n  return (\n    <Modal isOpen={isOpen} toggle={close} centered>\n      <ModalHeader toggle={close}>\n        <FontAwesomeIcon icon={infoIcon} id=\"metaTitleInfo\" /> Edit metadata for <ExternalLink href={url} />\n        <UncontrolledTooltip target=\"metaTitleInfo\" placement=\"bottom\">\n          <p>Using these metadata properties, you can limit when and how many times your short URL can be visited.</p>\n          <p>If any of the params is not met, the URL will behave as if it was an invalid short URL.</p>\n        </UncontrolledTooltip>\n      </ModalHeader>\n      <form onSubmit={(e) => e.preventDefault() || doEdit()}>\n        <ModalBody>\n          <FormGroup>\n            <DateInput\n              placeholderText=\"Enabled since...\"\n              selected={validSince}\n              maxDate={validUntil}\n              isClearable\n              onChange={setValidSince}\n            />\n          </FormGroup>\n          <FormGroup>\n            <DateInput\n              placeholderText=\"Enabled until...\"\n              selected={validUntil}\n              minDate={validSince}\n              isClearable\n              onChange={setValidUntil}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-0\">\n            <Input\n              type=\"number\"\n              placeholder=\"Maximum number of visits allowed\"\n              min={1}\n              value={maxVisits || ''}\n              onChange={(e) => setMaxVisits(e.target.value)}\n            />\n          </FormGroup>\n          {error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while saving the metadata :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" type=\"button\" onClick={close}>Cancel</button>\n          <button className=\"btn btn-primary\" type=\"submit\" disabled={saving}>{saving ? 'Saving...' : 'Save'}</button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n};\n\nEditMetaModal.propTypes = propTypes;\n\nexport default EditMetaModal;\n","import { faCopy as copyIcon } from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isNil } from 'ramda';\nimport React from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Card, CardBody, Tooltip } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { createShortUrlResultType } from '../reducers/shortUrlCreation';\nimport './CreateShortUrlResult.scss';\n\nconst CreateShortUrlResult = (stateFlagTimeout) => class CreateShortUrlResult extends React.Component {\n  static propTypes = {\n    resetCreateShortUrl: PropTypes.func,\n    error: PropTypes.bool,\n    result: createShortUrlResultType,\n  };\n\n  state = { showCopyTooltip: false };\n\n  componentDidMount() {\n    this.props.resetCreateShortUrl();\n  }\n\n  render() {\n    const { error, result } = this.props;\n\n    if (error) {\n      return (\n        <Card body color=\"danger\" inverse className=\"bg-danger mt-3\">\n          An error occurred while creating the URL :(\n        </Card>\n      );\n    }\n    if (isNil(result)) {\n      return null;\n    }\n\n    const { shortUrl } = result;\n    const onCopy = () => stateFlagTimeout(this.setState.bind(this), 'showCopyTooltip');\n\n    return (\n      <Card inverse className=\"bg-main mt-3\">\n        <CardBody>\n          <b>Great!</b> The short URL is <b>{shortUrl}</b>\n\n          <CopyToClipboard text={shortUrl} onCopy={onCopy}>\n            <button\n              className=\"btn btn-light btn-sm create-short-url-result__copy-btn\"\n              id=\"copyBtn\"\n              type=\"button\"\n            >\n              <FontAwesomeIcon icon={copyIcon} /> Copy\n            </button>\n          </CopyToClipboard>\n\n          <Tooltip placement=\"left\" isOpen={this.state.showCopyTooltip} target=\"copyBtn\">\n            Copied!\n          </Tooltip>\n        </CardBody>\n      </Card>\n    );\n  }\n};\n\nexport default CreateShortUrlResult;\n","import { connect as reduxConnect } from 'react-redux';\nimport { assoc } from 'ramda';\nimport ShortUrls from '../ShortUrls';\nimport SearchBar from '../SearchBar';\nimport ShortUrlsList from '../ShortUrlsList';\nimport ShortUrlsRow from '../helpers/ShortUrlsRow';\nimport ShortUrlsRowMenu from '../helpers/ShortUrlsRowMenu';\nimport CreateShortUrl from '../CreateShortUrl';\nimport DeleteShortUrlModal from '../helpers/DeleteShortUrlModal';\nimport EditTagsModal from '../helpers/EditTagsModal';\nimport EditMetaModal from '../helpers/EditMetaModal';\nimport CreateShortUrlResult from '../helpers/CreateShortUrlResult';\nimport { listShortUrls } from '../reducers/shortUrlsList';\nimport { createShortUrl, resetCreateShortUrl } from '../reducers/shortUrlCreation';\nimport { deleteShortUrl, resetDeleteShortUrl } from '../reducers/shortUrlDeletion';\nimport { editShortUrlTags, resetShortUrlsTags } from '../reducers/shortUrlTags';\nimport { editShortUrlMeta, resetShortUrlMeta } from '../reducers/shortUrlMeta';\nimport { resetShortUrlParams } from '../reducers/shortUrlsListParams';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('ShortUrls', ShortUrls, 'SearchBar', 'ShortUrlsList');\n  bottle.decorator('ShortUrls', reduxConnect(\n    (state) => assoc('shortUrlsList', state.shortUrlsList.shortUrls, state.shortUrlsList)\n  ));\n\n  bottle.serviceFactory('SearchBar', SearchBar, 'ColorGenerator', 'ForServerVersion');\n  bottle.decorator('SearchBar', connect([ 'shortUrlsListParams' ], [ 'listShortUrls' ]));\n\n  bottle.serviceFactory('ShortUrlsList', ShortUrlsList, 'ShortUrlsRow');\n  bottle.decorator('ShortUrlsList', connect(\n    [ 'selectedServer', 'shortUrlsListParams' ],\n    [ 'listShortUrls', 'resetShortUrlParams' ]\n  ));\n\n  bottle.serviceFactory('ShortUrlsRow', ShortUrlsRow, 'ShortUrlsRowMenu', 'ColorGenerator', 'stateFlagTimeout');\n\n  bottle.serviceFactory(\n    'ShortUrlsRowMenu',\n    ShortUrlsRowMenu,\n    'DeleteShortUrlModal',\n    'EditTagsModal',\n    'EditMetaModal',\n    'ForServerVersion'\n  );\n  bottle.serviceFactory('CreateShortUrlResult', CreateShortUrlResult, 'stateFlagTimeout');\n\n  bottle.serviceFactory('CreateShortUrl', CreateShortUrl, 'TagsSelector', 'CreateShortUrlResult', 'ForServerVersion');\n  bottle.decorator(\n    'CreateShortUrl',\n    connect([ 'shortUrlCreationResult', 'selectedServer' ], [ 'createShortUrl', 'resetCreateShortUrl' ])\n  );\n\n  bottle.serviceFactory('DeleteShortUrlModal', () => DeleteShortUrlModal);\n  bottle.decorator('DeleteShortUrlModal', connect([ 'shortUrlDeletion' ], [ 'deleteShortUrl', 'resetDeleteShortUrl' ]));\n\n  bottle.serviceFactory('EditTagsModal', EditTagsModal, 'TagsSelector');\n  bottle.decorator('EditTagsModal', connect([ 'shortUrlTags' ], [ 'editShortUrlTags', 'resetShortUrlsTags' ]));\n\n  bottle.serviceFactory('EditMetaModal', () => EditMetaModal);\n  bottle.decorator('EditMetaModal', connect([ 'shortUrlMeta' ], [ 'editShortUrlMeta', 'resetShortUrlMeta' ]));\n\n  // Actions\n  bottle.serviceFactory('editShortUrlTags', editShortUrlTags, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlsTags', () => resetShortUrlsTags);\n\n  bottle.serviceFactory('listShortUrls', listShortUrls, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlParams', () => resetShortUrlParams);\n\n  bottle.serviceFactory('createShortUrl', createShortUrl, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetCreateShortUrl', () => resetCreateShortUrl);\n\n  bottle.serviceFactory('deleteShortUrl', deleteShortUrl, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetDeleteShortUrl', () => resetDeleteShortUrl);\n\n  bottle.serviceFactory('editShortUrlMeta', editShortUrlMeta, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlMeta', () => resetShortUrlMeta);\n};\n\nexport default provideServices;\n","import { assoc, dissoc, pipe } from 'ramda';\nimport React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport PropTypes from 'prop-types';\nimport './CreateServer.scss';\n\nconst SHOW_IMPORT_MSG_TIME = 4000;\n\nconst CreateServer = (ImportServersBtn, stateFlagTimeout) => class CreateServer extends React.Component {\n  static propTypes = {\n    createServer: PropTypes.func,\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }),\n    resetSelectedServer: PropTypes.func,\n  };\n\n  state = {\n    name: '',\n    url: '',\n    apiKey: '',\n    serversImported: false,\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    const { createServer, history: { push } } = this.props;\n    const server = pipe(\n      assoc('id', uuid()),\n      dissoc('serversImported')\n    )(this.state);\n\n    createServer(server);\n    push(`/server/${server.id}/list-short-urls/1`);\n  };\n\n  componentDidMount() {\n    this.props.resetSelectedServer();\n  }\n\n  render() {\n    const renderInputGroup = (id, placeholder, type = 'text') => (\n      <div className=\"form-group row\">\n        <label htmlFor={id} className=\"col-lg-1 col-md-2 col-form-label create-server__label\">\n          {placeholder}:\n        </label>\n        <div className=\"col-lg-11 col-md-10\">\n          <input\n            type={type}\n            className=\"form-control\"\n            id={id}\n            placeholder={placeholder}\n            value={this.state[id]}\n            required\n            onChange={(e) => this.setState({ [id]: e.target.value })}\n          />\n        </div>\n      </div>\n    );\n\n    return (\n      <div className=\"create-server\">\n        <form onSubmit={this.handleSubmit}>\n          {renderInputGroup('name', 'Name')}\n          {renderInputGroup('url', 'URL', 'url')}\n          {renderInputGroup('apiKey', 'API key')}\n\n          <div className=\"text-right\">\n            <ImportServersBtn\n              onImport={() => stateFlagTimeout(this.setState.bind(this), 'serversImported', true, SHOW_IMPORT_MSG_TIME)}\n            />\n            <button className=\"btn btn-outline-primary\">Create server</button>\n          </div>\n\n          {this.state.serversImported && (\n            <div className=\"row create-server__import-success-msg\">\n              <div className=\"col-md-10 offset-md-1\">\n                <div className=\"p-2 mt-3 bg-main text-white text-center\">\n                  Servers properly imported. You can now select one from the list :)\n                </div>\n              </div>\n            </div>\n          )}\n        </form>\n      </div>\n    );\n  }\n};\n\nexport default CreateServer;\n","import { isEmpty, values } from 'ramda';\nimport React from 'react';\nimport { DropdownItem, DropdownMenu, DropdownToggle, UncontrolledDropdown } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { serverType } from './prop-types';\n\nconst ServersDropdown = (serversExporter) => class ServersDropdown extends React.Component {\n  static propTypes = {\n    servers: PropTypes.object,\n    selectedServer: serverType,\n    selectServer: PropTypes.func,\n    listServers: PropTypes.func,\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }),\n  };\n\n  renderServers = () => {\n    const { servers: { list, loading }, selectedServer, selectServer } = this.props;\n    const servers = values(list);\n    const { push } = this.props.history;\n    const loadServer = (id) => {\n      selectServer(id)\n        .then(() => push(`/server/${id}/list-short-urls/1`))\n        .catch(() => {});\n    };\n\n    if (loading) {\n      return <DropdownItem disabled><i>Trying to load servers...</i></DropdownItem>;\n    }\n\n    if (isEmpty(servers)) {\n      return <DropdownItem disabled><i>Add a server first...</i></DropdownItem>;\n    }\n\n    return (\n      <React.Fragment>\n        {servers.map(({ name, id }) => (\n          <DropdownItem key={id} active={selectedServer && selectedServer.id === id} onClick={() => loadServer(id)}>\n            {name}\n          </DropdownItem>\n        ))}\n        <DropdownItem divider />\n        <DropdownItem\n          className=\"servers-dropdown__export-item\"\n          onClick={() => serversExporter.exportServers()}\n        >\n          Export servers\n        </DropdownItem>\n      </React.Fragment>\n    );\n  };\n\n  componentDidMount = this.props.listServers;\n\n  render = () => (\n    <UncontrolledDropdown nav inNavbar>\n      <DropdownToggle nav caret>Servers</DropdownToggle>\n      <DropdownMenu right>{this.renderServers()}</DropdownMenu>\n    </UncontrolledDropdown>\n  );\n};\n\nexport default ServersDropdown;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport { serverType } from './prop-types';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  server: serverType,\n  deleteServer: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n};\n\nconst DeleteServerModal = ({ server, toggle, isOpen, deleteServer, history }) => {\n  const closeModal = () => {\n    deleteServer(server);\n    toggle();\n    history.push('/');\n  };\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle} centered>\n      <ModalHeader toggle={toggle}><span className=\"text-danger\">Delete server</span></ModalHeader>\n      <ModalBody>\n        <p>Are you sure you want to delete server <b>{server ? server.name : ''}</b>?</p>\n        <p>\n          No data will be deleted, only the access to that server will be removed from this host.\n          You can create it again at any moment.\n        </p>\n      </ModalBody>\n      <ModalFooter>\n        <button className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n        <button className=\"btn btn-danger\" onClick={() => closeModal()}>Delete</button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nDeleteServerModal.propTypes = propTypes;\n\nexport default DeleteServerModal;\n","import { faMinusCircle as deleteIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { serverType } from './prop-types';\n\nconst DeleteServerButton = (DeleteServerModal) => class DeleteServerButton extends React.Component {\n  static propTypes = {\n    server: serverType,\n    className: PropTypes.string,\n  };\n\n  state = { isModalOpen: false };\n\n  render() {\n    const { server, className } = this.props;\n\n    return (\n      <React.Fragment>\n        <span\n          className={className}\n          key=\"deleteServerBtn\"\n          onClick={() => this.setState({ isModalOpen: true })}\n        >\n          <FontAwesomeIcon icon={deleteIcon} />\n          <span className=\"aside-menu__item-text\">Delete this server</span>\n        </span>\n\n        <DeleteServerModal\n          isOpen={this.state.isModalOpen}\n          toggle={() => this.setState(({ isModalOpen }) => ({ isModalOpen: !isModalOpen }))}\n          server={server}\n          key=\"deleteServerModal\"\n        />\n      </React.Fragment>\n    );\n  }\n};\n\nexport default DeleteServerButton;\n","import React from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst ImportServersBtn = (serversImporter) => class ImportServersBtn extends React.Component {\n  static defaultProps = {\n    onImport: () => ({}),\n  };\n  static propTypes = {\n    onImport: PropTypes.func,\n    createServers: PropTypes.func,\n    fileRef: PropTypes.oneOfType([ PropTypes.object, PropTypes.node ]),\n  };\n\n  constructor(props) {\n    super(props);\n    this.fileRef = props.fileRef || React.createRef();\n  }\n\n  render() {\n    const { importServersFromFile } = serversImporter;\n    const { onImport, createServers } = this.props;\n    const onChange = ({ target }) =>\n      importServersFromFile(target.files[0])\n        .then(createServers)\n        .then(onImport)\n        .then(() => {\n          // Reset input after processing file\n          target.value = null;\n        });\n\n    return (\n      <React.Fragment>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-secondary mr-2\"\n          id=\"importBtn\"\n          onClick={() => this.fileRef.current.click()}\n        >\n          Import from file\n        </button>\n        <UncontrolledTooltip placement=\"top\" target=\"importBtn\">\n          You can create servers by importing a CSV file with columns <b>name</b>, <b>apiKey</b> and <b>url</b>\n        </UncontrolledTooltip>\n\n        <input\n          type=\"file\"\n          accept=\"text/csv\"\n          className=\"create-server__csv-select\"\n          ref={this.fileRef}\n          onChange={onChange}\n        />\n      </React.Fragment>\n    );\n  }\n};\n\nexport default ImportServersBtn;\n","import { createAction, handleActions } from 'redux-actions';\nimport { resetShortUrlParams } from '../../short-urls/reducers/shortUrlsListParams';\nimport { versionIsValidSemVer } from '../../utils/utils';\n\n/* eslint-disable padding-line-between-statements */\nexport const SELECT_SERVER = 'shlink/selectedServer/SELECT_SERVER';\nexport const RESET_SELECTED_SERVER = 'shlink/selectedServer/RESET_SELECTED_SERVER';\n\nexport const MIN_FALLBACK_VERSION = '1.0.0';\nexport const MAX_FALLBACK_VERSION = '999.999.999';\nexport const LATEST_VERSION_CONSTRAINT = 'latest';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = null;\n\nexport const resetSelectedServer = createAction(RESET_SELECTED_SERVER);\n\nexport const selectServer = ({ findServerById }, buildShlinkApiClient) => (serverId) => async (dispatch) => {\n  dispatch(resetShortUrlParams());\n\n  const selectedServer = findServerById(serverId);\n  const { health } = await buildShlinkApiClient(selectedServer);\n  const version = await health()\n    .then(({ version }) => version === LATEST_VERSION_CONSTRAINT ? MAX_FALLBACK_VERSION : version)\n    .then((version) => !versionIsValidSemVer(version) ? MIN_FALLBACK_VERSION : version)\n    .catch(() => MIN_FALLBACK_VERSION);\n\n  dispatch({\n    type: SELECT_SERVER,\n    selectedServer: {\n      ...selectedServer,\n      version,\n    },\n  });\n};\n\nexport default handleActions({\n  [RESET_SELECTED_SERVER]: () => initialState,\n  [SELECT_SERVER]: (state, { selectedServer }) => selectedServer,\n}, initialState);\n","import { handleActions } from 'redux-actions';\nimport { pipe, isEmpty, assoc, map, prop } from 'ramda';\nimport { v4 as uuid } from 'uuid';\nimport { homepage } from '../../../package.json';\n\n/* eslint-disable padding-line-between-statements */\nexport const FETCH_SERVERS_START = 'shlink/servers/FETCH_SERVERS_START';\nexport const FETCH_SERVERS = 'shlink/servers/FETCH_SERVERS';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = {\n  list: {},\n  loading: false,\n};\n\nconst assocId = (server) => assoc('id', server.id || uuid(), server);\n\nexport default handleActions({\n  [FETCH_SERVERS_START]: (state) => ({ ...state, loading: true }),\n  [FETCH_SERVERS]: (state, { list }) => ({ list, loading: false }),\n}, initialState);\n\nexport const listServers = ({ listServers, createServers }, { get }) => () => async (dispatch) => {\n  dispatch({ type: FETCH_SERVERS_START });\n  const localList = listServers();\n\n  if (!isEmpty(localList)) {\n    dispatch({ type: FETCH_SERVERS, list: localList });\n\n    return;\n  }\n\n  // If local list is empty, try to fetch it remotely (making sure it's an array) and calculate IDs for every server\n  const getDataAsArrayWithIds = pipe(\n    prop('data'),\n    (value) => {\n      if (!Array.isArray(value)) {\n        throw new Error('Value is not an array');\n      }\n\n      return value;\n    },\n    map(assocId),\n  );\n  const remoteList = await get(`${homepage}/servers.json`)\n    .then(getDataAsArrayWithIds)\n    .catch(() => []);\n\n  createServers(remoteList);\n  dispatch({ type: FETCH_SERVERS, list: remoteList.reduce((map, server) => ({ ...map, [server.id]: server }), {}) });\n};\n\nexport const createServer = ({ createServer }, listServersAction) => pipe(createServer, listServersAction);\n\nexport const deleteServer = ({ deleteServer }, listServersAction) => pipe(deleteServer, listServersAction);\n\nexport const createServers = ({ createServers }, listServersAction) => pipe(\n  map(assocId),\n  createServers,\n  listServersAction\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { compareVersions } from '../../utils/utils';\nimport { serverType } from '../prop-types';\n\nconst propTypes = {\n  minVersion: PropTypes.string,\n  maxVersion: PropTypes.string,\n  selectedServer: serverType,\n  children: PropTypes.node.isRequired,\n};\n\nconst ForServerVersion = ({ minVersion, maxVersion, selectedServer, children }) => {\n  if (!selectedServer) {\n    return null;\n  }\n\n  const { version } = selectedServer;\n  const matchesMinVersion = !minVersion || compareVersions(version, '>=', minVersion);\n  const matchesMaxVersion = !maxVersion || compareVersions(version, '<=', maxVersion);\n\n  if (!matchesMinVersion || !matchesMaxVersion) {\n    return null;\n  }\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nForServerVersion.propTypes = propTypes;\n\nexport default ForServerVersion;\n","export default class ServersImporter {\n  constructor(csvjson) {\n    this.csvjson = csvjson;\n  }\n\n  importServersFromFile = (file) => {\n    if (!file || file.type !== 'text/csv') {\n      return Promise.reject('No file provided or file is not a CSV');\n    }\n\n    const reader = new FileReader();\n\n    return new Promise((resolve) => {\n      reader.addEventListener('loadend', (e) => {\n        const content = e.target.result;\n        const servers = this.csvjson.toObject(content);\n\n        resolve(servers);\n      });\n      reader.readAsText(file);\n    });\n  };\n}\n","import { assoc, dissoc, reduce } from 'ramda';\n\nconst SERVERS_STORAGE_KEY = 'servers';\n\nexport default class ServersService {\n  constructor(storage) {\n    this.storage = storage;\n  }\n\n  listServers = () => this.storage.get(SERVERS_STORAGE_KEY) || {};\n\n  findServerById = (serverId) => this.listServers()[serverId];\n\n  createServer = (server) => this.createServers([ server ]);\n\n  createServers = (servers) => {\n    const allServers = reduce(\n      (serversObj, server) => assoc(server.id, server, serversObj),\n      this.listServers(),\n      servers\n    );\n\n    this.storage.set(SERVERS_STORAGE_KEY, allServers);\n  };\n\n  deleteServer = ({ id }) =>\n    this.storage.set(SERVERS_STORAGE_KEY, dissoc(id, this.listServers()));\n}\n","import { dissoc, head, keys, values } from 'ramda';\n\nconst saveCsv = (window, csv) => {\n  const { navigator, document } = window;\n  const filename = 'shlink-servers.csv';\n  const blob = new Blob([ csv ], { type: 'text/csv;charset=utf-8;' });\n\n  // IE10 and IE11\n  if (navigator.msSaveBlob) {\n    navigator.msSaveBlob(blob, filename);\n\n    return;\n  }\n\n  // Modern browsers\n  const link = document.createElement('a');\n  const url = URL.createObjectURL(blob);\n\n  link.setAttribute('href', url);\n  link.setAttribute('download', filename);\n  link.style.visibility = 'hidden';\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nexport default class ServersExporter {\n  constructor(serversService, window, csvjson) {\n    this.serversService = serversService;\n    this.window = window;\n    this.csvjson = csvjson;\n  }\n\n  exportServers = async () => {\n    const servers = values(this.serversService.listServers()).map(dissoc('id'));\n\n    try {\n      const csv = this.csvjson.toCSV(servers, {\n        headers: keys(head(servers)).join(','),\n      });\n\n      saveCsv(this.window, csv);\n    } catch (e) {\n      // FIXME Handle error\n      /* eslint no-console: \"off\" */\n      console.error(e);\n    }\n  };\n}\n","import csvjson from 'csvjson';\nimport CreateServer from '../CreateServer';\nimport ServersDropdown from '../ServersDropdown';\nimport DeleteServerModal from '../DeleteServerModal';\nimport DeleteServerButton from '../DeleteServerButton';\nimport ImportServersBtn from '../helpers/ImportServersBtn';\nimport { resetSelectedServer, selectServer } from '../reducers/selectedServer';\nimport { createServer, createServers, deleteServer, listServers } from '../reducers/server';\nimport ForServerVersion from '../helpers/ForServerVersion';\nimport ServersImporter from './ServersImporter';\nimport ServersService from './ServersService';\nimport ServersExporter from './ServersExporter';\n\nconst provideServices = (bottle, connect, withRouter) => {\n  // Components\n  bottle.serviceFactory('CreateServer', CreateServer, 'ImportServersBtn', 'stateFlagTimeout');\n  bottle.decorator('CreateServer', connect([ 'selectedServer' ], [ 'createServer', 'resetSelectedServer' ]));\n\n  bottle.serviceFactory('ServersDropdown', ServersDropdown, 'ServersExporter');\n  bottle.decorator('ServersDropdown', withRouter);\n  bottle.decorator('ServersDropdown', connect([ 'servers', 'selectedServer' ], [ 'listServers', 'selectServer' ]));\n\n  bottle.serviceFactory('DeleteServerModal', () => DeleteServerModal);\n  bottle.decorator('DeleteServerModal', withRouter);\n  bottle.decorator('DeleteServerModal', connect(null, [ 'deleteServer' ]));\n\n  bottle.serviceFactory('DeleteServerButton', DeleteServerButton, 'DeleteServerModal');\n\n  bottle.serviceFactory('ImportServersBtn', ImportServersBtn, 'ServersImporter');\n  bottle.decorator('ImportServersBtn', connect(null, [ 'createServers' ]));\n\n  bottle.serviceFactory('ForServerVersion', () => ForServerVersion);\n  bottle.decorator('ForServerVersion', connect([ 'selectedServer' ]));\n\n  // Services\n  bottle.constant('csvjson', csvjson);\n  bottle.service('ServersImporter', ServersImporter, 'csvjson');\n  bottle.service('ServersService', ServersService, 'Storage');\n  bottle.service('ServersExporter', ServersExporter, 'ServersService', 'window', 'csvjson');\n\n  // Actions\n  bottle.serviceFactory('selectServer', selectServer, 'ServersService', 'buildShlinkApiClient');\n  bottle.serviceFactory('createServer', createServer, 'ServersService', 'listServers');\n  bottle.serviceFactory('createServers', createServers, 'ServersService', 'listServers');\n  bottle.serviceFactory('deleteServer', deleteServer, 'ServersService', 'listServers');\n  bottle.serviceFactory('listServers', listServers, 'ServersService', 'axios');\n\n  bottle.serviceFactory('resetSelectedServer', () => resetSelectedServer);\n};\n\nexport default provideServices;\n","import React from 'react';\nimport { Card } from 'reactstrap';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nconst DEFAULT_MARGIN_SIZE = 4;\nconst propTypes = {\n  marginSize: PropTypes.number,\n  children: PropTypes.node,\n};\n\nexport default function MutedMessage({ children, marginSize = DEFAULT_MARGIN_SIZE }) {\n  const cardClasses = classnames('bg-light', {\n    [`mt-${marginSize}`]: marginSize > 0,\n  });\n\n  return (\n    <div className=\"col-md-10 offset-md-1\">\n      <Card className={cardClasses} body>\n        <h3 className=\"text-center text-muted mb-0\">\n          {children}\n        </h3>\n      </Card>\n    </div>\n  );\n}\n\nMutedMessage.propTypes = propTypes;\n","import React from 'react';\nimport { DropdownItem, DropdownMenu, DropdownToggle, UncontrolledDropdown } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\n\nconst propTypes = {\n  toggleClassName: PropTypes.string,\n  ranges: PropTypes.arrayOf(PropTypes.number).isRequired,\n  value: PropTypes.number.isRequired,\n  setValue: PropTypes.func.isRequired,\n};\n\nconst PaginationDropdown = ({ toggleClassName, ranges, value, setValue }) => (\n  <UncontrolledDropdown>\n    <DropdownToggle caret color=\"link\" className={toggleClassName}>\n      Paginate\n    </DropdownToggle>\n    <DropdownMenu right>\n      {ranges.map((itemsPerPage) => (\n        <DropdownItem key={itemsPerPage} active={itemsPerPage === value} onClick={() => setValue(itemsPerPage)}>\n          <b>{itemsPerPage}</b> items per page\n        </DropdownItem>\n      ))}\n      <DropdownItem divider />\n      <DropdownItem disabled={value === Infinity} onClick={() => setValue(Infinity)}>\n        <i>Clear pagination</i>\n      </DropdownItem>\n    </DropdownMenu>\n  </UncontrolledDropdown>\n);\n\nPaginationDropdown.propTypes = propTypes;\n\nexport default PaginationDropdown;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { range, max, min } from 'ramda';\nimport './SimplePaginator.scss';\n\nconst propTypes = {\n  pagesCount: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  setCurrentPage: PropTypes.func.isRequired,\n};\n\nexport const ellipsis = '...';\n\nconst pagination = (currentPage, pageCount) => {\n  const delta = 2;\n  const pages = range(\n    max(delta, currentPage - delta),\n    min(pageCount - 1, currentPage + delta) + 1\n  );\n\n  if (currentPage - delta > delta) {\n    pages.unshift(ellipsis);\n  }\n  if (currentPage + delta < pageCount - 1) {\n    pages.push(ellipsis);\n  }\n\n  pages.unshift(1);\n  pages.push(pageCount);\n\n  return pages;\n};\n\nconst SimplePaginator = ({ pagesCount, currentPage, setCurrentPage }) => {\n  if (pagesCount < 2) {\n    return null;\n  }\n\n  const onClick = (page) => () => setCurrentPage(page);\n\n  return (\n    <Pagination listClassName=\"flex-wrap justify-content-center mb-0 simple-paginator\">\n      <PaginationItem disabled={currentPage <= 1}>\n        <PaginationLink previous tag=\"span\" onClick={onClick(currentPage - 1)} />\n      </PaginationItem>\n      {pagination(currentPage, pagesCount).map((page, index) => (\n        <PaginationItem\n          key={page !== ellipsis ? page : `${page}_${index}`}\n          active={page === currentPage}\n          disabled={page === ellipsis}\n        >\n          <PaginationLink tag=\"span\" onClick={onClick(page)}>{page}</PaginationLink>\n        </PaginationItem>\n      ))}\n      <PaginationItem disabled={currentPage >= pagesCount}>\n        <PaginationLink next tag=\"span\" onClick={onClick(currentPage + 1)} />\n      </PaginationItem>\n    </Pagination>\n  );\n};\n\nSimplePaginator.propTypes = propTypes;\n\nexport default SimplePaginator;\n","import { Card, CardHeader, CardBody, CardFooter } from 'reactstrap';\nimport { Doughnut, HorizontalBar } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { keys, values } from 'ramda';\nimport './GraphCard.scss';\n\nconst propTypes = {\n  title: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\n  footer: PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]),\n  isBarChart: PropTypes.bool,\n  stats: PropTypes.object,\n  max: PropTypes.number,\n};\n\nconst generateGraphData = (title, isBarChart, labels, data) => ({\n  labels,\n  datasets: [\n    {\n      title,\n      data,\n      backgroundColor: isBarChart ? 'rgba(70, 150, 229, 0.4)' : [\n        '#97BBCD',\n        '#DCDCDC',\n        '#F7464A',\n        '#46BFBD',\n        '#FDB45C',\n        '#949FB1',\n        '#4D5360',\n      ],\n      borderColor: isBarChart ? 'rgba(70, 150, 229, 1)' : 'white',\n      borderWidth: 2,\n    },\n  ],\n});\n\nconst dropLabelIfHidden = (label) => label.startsWith('hidden') ? '' : label;\n\nconst renderGraph = (title, isBarChart, stats, max) => {\n  const Component = isBarChart ? HorizontalBar : Doughnut;\n  const labels = keys(stats).map(dropLabelIfHidden);\n  const data = values(stats);\n  const options = {\n    legend: isBarChart ? { display: false } : { position: 'right' },\n    scales: isBarChart && {\n      xAxes: [\n        {\n          ticks: { beginAtZero: true, max },\n        },\n      ],\n    },\n    tooltips: {\n      intersect: !isBarChart,\n\n      // Do not show tooltip on items with empty label when in a bar chart\n      filter: ({ yLabel }) => !isBarChart || yLabel !== '',\n    },\n  };\n  const graphData = generateGraphData(title, isBarChart, labels, data);\n  const height = isBarChart && labels.length > 20 ? labels.length * 8 : null;\n\n  // Provide a key based on the height, so that every time the dataset changes, a new graph is rendered\n  return <Component key={height} data={graphData} options={options} height={height} />;\n};\n\nconst GraphCard = ({ title, footer, isBarChart, stats, max }) => (\n  <Card className=\"mt-4\">\n    <CardHeader className=\"graph-card__header\">{typeof title === 'function' ? title() : title}</CardHeader>\n    <CardBody>{renderGraph(title, isBarChart, stats, max)}</CardBody>\n    {footer && <CardFooter className=\"graph-card__footer--sticky\">{footer}</CardFooter>}\n  </Card>\n);\n\nGraphCard.propTypes = propTypes;\n\nexport default GraphCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { fromPairs, head, keys, pipe, prop, reverse, sortBy, splitEvery, toLower, toPairs, type } from 'ramda';\nimport SortingDropdown from '../utils/SortingDropdown';\nimport PaginationDropdown from '../utils/PaginationDropdown';\nimport { rangeOf, roundTen } from '../utils/utils';\nimport SimplePaginator from '../common/SimplePaginator';\nimport GraphCard from './GraphCard';\n\nconst { max } = Math;\nconst toLowerIfString = (value) => type(value) === 'String' ? toLower(value) : value;\nconst pickValueFromPair = ([ , value ]) => value;\n\nexport default class SortableBarGraph extends React.Component {\n  static propTypes = {\n    stats: PropTypes.object.isRequired,\n    title: PropTypes.string.isRequired,\n    sortingItems: PropTypes.object.isRequired,\n    extraHeaderContent: PropTypes.func,\n    withPagination: PropTypes.bool,\n  };\n\n  state = {\n    orderField: undefined,\n    orderDir: undefined,\n    currentPage: 1,\n    itemsPerPage: Infinity,\n  };\n\n  determineStats(stats, sortingItems) {\n    const pairs = toPairs(stats);\n    const sortedPairs = !this.state.orderField ? pairs : sortBy(\n      pipe(\n        prop(this.state.orderField === head(keys(sortingItems)) ? 0 : 1),\n        toLowerIfString\n      ),\n      pairs\n    );\n    const directionalPairs = !this.state.orderDir || this.state.orderDir === 'ASC' ? sortedPairs : reverse(sortedPairs);\n\n    if (directionalPairs.length <= this.state.itemsPerPage) {\n      return { currentPageStats: fromPairs(directionalPairs) };\n    }\n\n    const pages = splitEvery(this.state.itemsPerPage, directionalPairs);\n\n    return {\n      currentPageStats: fromPairs(this.determineCurrentPagePairs(pages)),\n      pagination: this.renderPagination(pages.length),\n      max: roundTen(max(...directionalPairs.map(pickValueFromPair))),\n    };\n  }\n\n  determineCurrentPagePairs(pages) {\n    const page = pages[this.state.currentPage - 1];\n\n    if (this.state.currentPage < pages.length) {\n      return page;\n    }\n\n    const firstPageLength = pages[0].length;\n\n    // Using the \"hidden\" key, the chart will just replace the label by an empty string\n    return [ ...page, ...rangeOf(firstPageLength - page.length, (i) => [ `hidden_${i}`, 0 ]) ];\n  }\n\n  renderPagination(pagesCount) {\n    const { currentPage } = this.state;\n    const setCurrentPage = (currentPage) => this.setState({ currentPage });\n\n    return <SimplePaginator currentPage={currentPage} pagesCount={pagesCount} setCurrentPage={setCurrentPage} />;\n  }\n\n  render() {\n    const { stats, sortingItems, title, extraHeaderContent, withPagination = true } = this.props;\n    const { currentPageStats, pagination, max } = this.determineStats(stats, sortingItems);\n    const activeCities = keys(currentPageStats);\n    const computeTitle = () => (\n      <React.Fragment>\n        {title}\n        <div className=\"float-right\">\n          <SortingDropdown\n            isButton={false}\n            right\n            items={sortingItems}\n            orderField={this.state.orderField}\n            orderDir={this.state.orderDir}\n            onChange={(orderField, orderDir) => this.setState({ orderField, orderDir, currentPage: 1 })}\n          />\n        </div>\n        {withPagination && keys(stats).length > 50 && (\n          <div className=\"float-right\">\n            <PaginationDropdown\n              toggleClassName=\"btn-sm paddingless mr-3\"\n              ranges={[ 50, 100, 200, 500 ]}\n              value={this.state.itemsPerPage}\n              setValue={(itemsPerPage) => this.setState({ itemsPerPage, currentPage: 1 })}\n            />\n          </div>\n        )}\n        {extraHeaderContent && (\n          <div className=\"float-right\">\n            {extraHeaderContent(pagination ? activeCities : undefined)}\n          </div>\n        )}\n      </React.Fragment>\n    );\n\n    return <GraphCard isBarChart title={computeTitle} stats={currentPageStats} footer={pagination} max={max} />;\n  }\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { flatten, prop, range, splitEvery } from 'ramda';\n\n/* eslint-disable padding-line-between-statements */\nexport const GET_SHORT_URL_VISITS_START = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_START';\nexport const GET_SHORT_URL_VISITS_ERROR = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_ERROR';\nexport const GET_SHORT_URL_VISITS = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS';\nexport const GET_SHORT_URL_VISITS_LARGE = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_LARGE';\nexport const GET_SHORT_URL_VISITS_CANCEL = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_CANCEL';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlVisitsType = PropTypes.shape({\n  visits: PropTypes.array,\n  loading: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  visits: [],\n  loading: false,\n  loadingLarge: false,\n  error: false,\n  cancelLoad: false,\n};\n\nexport default handleActions({\n  [GET_SHORT_URL_VISITS_START]: (state) => ({\n    ...state,\n    loading: true,\n    loadingLarge: false,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS_ERROR]: (state) => ({\n    ...state,\n    loading: false,\n    loadingLarge: false,\n    error: true,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS]: (state, { visits }) => ({\n    visits,\n    loading: false,\n    loadingLarge: false,\n    error: false,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS_LARGE]: (state) => ({ ...state, loadingLarge: true }),\n  [GET_SHORT_URL_VISITS_CANCEL]: (state) => ({ ...state, cancelLoad: true }),\n}, initialState);\n\nexport const getShortUrlVisits = (buildShlinkApiClient) => (shortCode, query) => async (dispatch, getState) => {\n  dispatch({ type: GET_SHORT_URL_VISITS_START });\n\n  const { getShortUrlVisits } = await buildShlinkApiClient(getState);\n  const itemsPerPage = 5000;\n  const isLastPage = ({ currentPage, pagesCount }) => currentPage >= pagesCount;\n\n  const loadVisits = async (page = 1) => {\n    const { pagination, data } = await getShortUrlVisits(shortCode, { ...query, page, itemsPerPage });\n\n    // If pagination was not returned, then this is an older shlink version. Just return data\n    if (!pagination || isLastPage(pagination)) {\n      return data;\n    }\n\n    // If there are more pages, make requests in blocks of 4\n    const parallelRequestsCount = 4;\n    const parallelStartingPage = 2;\n    const pagesRange = range(parallelStartingPage, pagination.pagesCount + 1);\n    const pagesBlocks = splitEvery(parallelRequestsCount, pagesRange);\n\n    if (pagination.pagesCount - 1 > parallelRequestsCount) {\n      dispatch({ type: GET_SHORT_URL_VISITS_LARGE });\n    }\n\n    return data.concat(await loadPagesBlocks(pagesBlocks));\n  };\n\n  const loadPagesBlocks = async (pagesBlocks, index = 0) => {\n    const { shortUrlVisits: { cancelLoad } } = getState();\n\n    if (cancelLoad) {\n      return [];\n    }\n\n    const data = await loadVisitsInParallel(pagesBlocks[index]);\n\n    if (index < pagesBlocks.length - 1) {\n      return data.concat(await loadPagesBlocks(pagesBlocks, index + 1));\n    }\n\n    return data;\n  };\n\n  const loadVisitsInParallel = (pages) =>\n    Promise.all(pages.map(\n      (page) =>\n        getShortUrlVisits(shortCode, { ...query, page, itemsPerPage })\n          .then(prop('data'))\n    )).then(flatten);\n\n  try {\n    const visits = await loadVisits();\n\n    dispatch({ visits, type: GET_SHORT_URL_VISITS });\n  } catch (e) {\n    dispatch({ type: GET_SHORT_URL_VISITS_ERROR });\n  }\n};\n\nexport const cancelGetShortUrlVisits = createAction(GET_SHORT_URL_VISITS_CANCEL);\n","import { handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { shortUrlType } from '../../short-urls/reducers/shortUrlsList';\n\n/* eslint-disable padding-line-between-statements */\nexport const GET_SHORT_URL_DETAIL_START = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_START';\nexport const GET_SHORT_URL_DETAIL_ERROR = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_ERROR';\nexport const GET_SHORT_URL_DETAIL = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlDetailType = PropTypes.shape({\n  shortUrl: shortUrlType,\n  loading: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  shortUrl: {},\n  loading: false,\n  error: false,\n};\n\nexport default handleActions({\n  [GET_SHORT_URL_DETAIL_START]: (state) => ({ ...state, loading: true }),\n  [GET_SHORT_URL_DETAIL_ERROR]: (state) => ({ ...state, loading: false, error: true }),\n  [GET_SHORT_URL_DETAIL]: (state, { shortUrl }) => ({ shortUrl, loading: false, error: false }),\n}, initialState);\n\nexport const getShortUrlDetail = (buildShlinkApiClient) => (shortCode, domain) => async (dispatch, getState) => {\n  dispatch({ type: GET_SHORT_URL_DETAIL_START });\n\n  const { getShortUrl } = await buildShlinkApiClient(getState);\n\n  try {\n    const shortUrl = await getShortUrl(shortCode, domain);\n\n    dispatch({ shortUrl, type: GET_SHORT_URL_DETAIL });\n  } catch (e) {\n    dispatch({ type: GET_SHORT_URL_DETAIL_ERROR });\n  }\n};\n","import { Card, UncontrolledTooltip } from 'reactstrap';\nimport Moment from 'react-moment';\nimport React from 'react';\nimport { ExternalLink } from 'react-external-link';\nimport ShortUrlVisitsCount from '../short-urls/helpers/ShortUrlVisitsCount';\nimport { shortUrlDetailType } from './reducers/shortUrlDetail';\nimport { shortUrlVisitsType } from './reducers/shortUrlVisits';\nimport './VisitsHeader.scss';\n\nconst propTypes = {\n  shortUrlDetail: shortUrlDetailType.isRequired,\n  shortUrlVisits: shortUrlVisitsType.isRequired,\n};\n\nexport default function VisitsHeader({ shortUrlDetail, shortUrlVisits }) {\n  const { shortUrl, loading } = shortUrlDetail;\n  const { visits } = shortUrlVisits;\n  const shortLink = shortUrl && shortUrl.shortUrl ? shortUrl.shortUrl : '';\n  const longLink = shortUrl && shortUrl.longUrl ? shortUrl.longUrl : '';\n\n  const renderDate = () => (\n    <span>\n      <b id=\"created\" className=\"visits-header__created-at\"><Moment fromNow>{shortUrl.dateCreated}</Moment></b>\n      <UncontrolledTooltip placement=\"bottom\" target=\"created\">\n        <Moment format=\"YYYY-MM-DD HH:mm\">{shortUrl.dateCreated}</Moment>\n      </UncontrolledTooltip>\n    </span>\n  );\n\n  return (\n    <header>\n      <Card className=\"bg-light\" body>\n        <h2>\n          <span className=\"badge badge-main float-right\">\n            Visits:{' '}\n            <ShortUrlVisitsCount visitsCount={visits.length} shortUrl={shortUrl} />\n          </span>\n          Visit stats for <ExternalLink href={shortLink} />\n        </h2>\n        <hr />\n        <div>Created: {renderDate()}</div>\n        <div>\n          Long URL:{' '}\n          {loading && <small>Loading...</small>}\n          {!loading && <ExternalLink href={longLink} />}\n        </div>\n      </Card>\n    </header>\n  );\n}\n\nVisitsHeader.propTypes = propTypes;\n","import { faCircleNotch as preloader } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isEmpty, mapObjIndexed, values } from 'ramda';\nimport React from 'react';\nimport { Card } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport qs from 'qs';\nimport DateRangeRow from '../utils/DateRangeRow';\nimport MutedMessage from '../utils/MuttedMessage';\nimport { formatDate } from '../utils/utils';\nimport SortableBarGraph from './SortableBarGraph';\nimport { shortUrlVisitsType } from './reducers/shortUrlVisits';\nimport VisitsHeader from './VisitsHeader';\nimport GraphCard from './GraphCard';\nimport { shortUrlDetailType } from './reducers/shortUrlDetail';\n\nconst ShortUrlVisits = (\n  { processStatsFromVisits },\n  OpenMapModalBtn\n) => class ShortUrlVisits extends React.PureComponent {\n  static propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.object,\n    }),\n    location: PropTypes.shape({\n      search: PropTypes.string,\n    }),\n    getShortUrlVisits: PropTypes.func,\n    shortUrlVisits: shortUrlVisitsType,\n    getShortUrlDetail: PropTypes.func,\n    shortUrlDetail: shortUrlDetailType,\n    cancelGetShortUrlVisits: PropTypes.func,\n  };\n\n  state = { startDate: undefined, endDate: undefined };\n  loadVisits = (loadDetail = false) => {\n    const { match: { params }, location: { search }, getShortUrlVisits, getShortUrlDetail } = this.props;\n    const { shortCode } = params;\n    const { startDate, endDate } = mapObjIndexed(formatDate(), this.state);\n    const { domain } = qs.parse(search, { ignoreQueryPrefix: true });\n\n    // While the \"page\" is loaded, use the timestamp + filtering dates as memoization IDs for stats calculations\n    this.memoizationId = `${this.timeWhenMounted}_${shortCode}_${startDate}_${endDate}`;\n    getShortUrlVisits(shortCode, { startDate, endDate, domain });\n\n    if (loadDetail) {\n      getShortUrlDetail(shortCode, domain);\n    }\n  };\n\n  componentDidMount() {\n    this.timeWhenMounted = new Date().getTime();\n    this.loadVisits(true);\n  }\n\n  componentWillUnmount() {\n    this.props.cancelGetShortUrlVisits();\n  }\n\n  render() {\n    const { shortUrlVisits, shortUrlDetail } = this.props;\n\n    const renderVisitsContent = () => {\n      const { visits, loading, loadingLarge, error } = shortUrlVisits;\n\n      if (loading) {\n        const message = loadingLarge ? 'This is going to take a while... :S' : 'Loading...';\n\n        return <MutedMessage><FontAwesomeIcon icon={preloader} spin /> {message}</MutedMessage>;\n      }\n\n      if (error) {\n        return (\n          <Card className=\"mt-4\" body inverse color=\"danger\">\n            An error occurred while loading visits :(\n          </Card>\n        );\n      }\n\n      if (isEmpty(visits)) {\n        return <MutedMessage>There are no visits matching current filter  :(</MutedMessage>;\n      }\n\n      const { os, browsers, referrers, countries, cities, citiesForMap } = processStatsFromVisits(\n        { id: this.memoizationId, visits }\n      );\n      const mapLocations = values(citiesForMap);\n\n      return (\n        <div className=\"row\">\n          <div className=\"col-xl-4 col-lg-6\">\n            <GraphCard title=\"Operating systems\" stats={os} />\n          </div>\n          <div className=\"col-xl-4 col-lg-6\">\n            <GraphCard title=\"Browsers\" stats={browsers} />\n          </div>\n          <div className=\"col-xl-4\">\n            <SortableBarGraph\n              stats={referrers}\n              withPagination={false}\n              title=\"Referrers\"\n              sortingItems={{\n                name: 'Referrer name',\n                amount: 'Visits amount',\n              }}\n            />\n          </div>\n          <div className=\"col-lg-6\">\n            <SortableBarGraph\n              stats={countries}\n              title=\"Countries\"\n              sortingItems={{\n                name: 'Country name',\n                amount: 'Visits amount',\n              }}\n            />\n          </div>\n          <div className=\"col-lg-6\">\n            <SortableBarGraph\n              stats={cities}\n              title=\"Cities\"\n              extraHeaderContent={(activeCities) =>\n                mapLocations.length > 0 &&\n                  <OpenMapModalBtn modalTitle=\"Cities\" locations={mapLocations} activeCities={activeCities} />\n              }\n              sortingItems={{\n                name: 'City name',\n                amount: 'Visits amount',\n              }}\n            />\n          </div>\n        </div>\n      );\n    };\n    const setDate = (dateField) => (date) => this.setState({ [dateField]: date }, this.loadVisits);\n\n    return (\n      <div className=\"shlink-container\">\n        <VisitsHeader shortUrlDetail={shortUrlDetail} shortUrlVisits={shortUrlVisits} />\n\n        <section className=\"mt-4\">\n          <DateRangeRow\n            startDate={this.state.startDate}\n            endDate={this.state.endDate}\n            onStartDateChange={setDate('startDate')}\n            onEndDateChange={setDate('endDate')}\n          />\n        </section>\n\n        <section>\n          {renderVisitsContent()}\n        </section>\n      </div>\n    );\n  }\n};\n\nexport default ShortUrlVisits;\n","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapMarkedAlt as mapIcon } from '@fortawesome/free-solid-svg-icons';\nimport { Dropdown, DropdownItem, DropdownMenu, UncontrolledTooltip } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\nimport './OpenMapModalBtn.scss';\n\nconst propTypes = {\n  modalTitle: PropTypes.string.isRequired,\n  locations: PropTypes.arrayOf(PropTypes.object),\n  activeCities: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst OpenMapModalBtn = (MapModal) => {\n  const OpenMapModalBtn = ({ modalTitle, locations = [], activeCities }) => {\n    const [ mapIsOpened, setMapIsOpened ] = useState(false);\n    const [ dropdownIsOpened, setDropdownIsOpened ] = useState(false);\n    const [ locationsToShow, setLocationsToShow ] = useState([]);\n\n    const buttonRef = React.createRef();\n    const filterLocations = (locations) => locations.filter(({ cityName }) => activeCities.includes(cityName));\n    const toggleMap = () => setMapIsOpened(!mapIsOpened);\n    const onClick = () => {\n      if (!activeCities) {\n        setLocationsToShow(locations);\n        setMapIsOpened(true);\n\n        return;\n      }\n\n      setDropdownIsOpened(true);\n    };\n    const openMapWithLocations = (filtered) => () => {\n      setLocationsToShow(filtered ? filterLocations(locations) : locations);\n      setMapIsOpened(true);\n    };\n\n    return (\n      <React.Fragment>\n        <button className=\"btn btn-link open-map-modal-btn__btn\" ref={buttonRef} onClick={onClick}>\n          <FontAwesomeIcon icon={mapIcon} />\n        </button>\n        <UncontrolledTooltip placement=\"left\" target={() => buttonRef.current}>Show in map</UncontrolledTooltip>\n        <Dropdown isOpen={dropdownIsOpened} toggle={() => setDropdownIsOpened(!dropdownIsOpened)} inNavbar>\n          <DropdownMenu right>\n            <DropdownItem onClick={openMapWithLocations(false)}>Show all locations</DropdownItem>\n            <DropdownItem onClick={openMapWithLocations(true)}>Show locations in current page</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <MapModal toggle={toggleMap} isOpen={mapIsOpened} title={modalTitle} locations={locationsToShow} />\n      </React.Fragment>\n    );\n  };\n\n  OpenMapModalBtn.propTypes = propTypes;\n\n  return OpenMapModalBtn;\n};\n\nexport default OpenMapModalBtn;\n","import React from 'react';\nimport { Modal, ModalBody } from 'reactstrap';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { prop } from 'ramda';\nimport * as PropTypes from 'prop-types';\nimport './MapModal.scss';\n\nconst propTypes = {\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n  title: PropTypes.string,\n  locations: PropTypes.arrayOf(PropTypes.shape({\n    cityName: PropTypes.string.isRequired,\n    latLong: PropTypes.arrayOf(PropTypes.number).isRequired,\n    count: PropTypes.number.isRequired,\n  })),\n};\nconst defaultProps = {\n  locations: [],\n};\n\nconst OpenStreetMapTile = () => (\n  <TileLayer\n    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n  />\n);\n\nconst calculateMapProps = (locations) => {\n  if (locations.length === 0) {\n    return {};\n  }\n\n  if (locations.length > 1) {\n    return { bounds: locations.map(prop('latLong')) };\n  }\n\n  // When there's only one location, an error is thrown if trying to calculate the bounds.\n  // When that happens, we use zoom and center as a workaround\n  const [{ latLong: center }] = locations;\n\n  return { zoom: '10', center };\n};\n\nconst MapModal = ({ toggle, isOpen, title, locations }) => (\n  <Modal toggle={toggle} isOpen={isOpen} className=\"map-modal__modal\" contentClassName=\"map-modal__modal-content\">\n    <ModalBody className=\"map-modal__modal-body\">\n      <h3 className=\"map-modal__modal-title\">\n        {title}\n        <button type=\"button\" className=\"close\" onClick={toggle}>&times;</button>\n      </h3>\n      <Map {...calculateMapProps(locations)}>\n        <OpenStreetMapTile />\n        {locations.map(({ cityName, latLong, count }, index) => (\n          <Marker key={index} position={latLong}>\n            <Popup><b>{count}</b> visit{count > 1 ? 's' : ''} from <b>{cityName}</b></Popup>\n          </Marker>\n        ))}\n      </Map>\n    </ModalBody>\n  </Modal>\n);\n\nMapModal.propTypes = propTypes;\nMapModal.defaultProps = defaultProps;\n\nexport default MapModal;\n","import { isNil, isEmpty, memoizeWith, prop } from 'ramda';\n\nconst osFromUserAgent = (userAgent) => {\n  const lowerUserAgent = userAgent.toLowerCase();\n\n  switch (true) {\n    case lowerUserAgent.indexOf('linux') >= 0:\n      return 'Linux';\n    case lowerUserAgent.indexOf('windows') >= 0:\n      return 'Windows';\n    case lowerUserAgent.indexOf('mac') >= 0:\n      return 'MacOS';\n    case lowerUserAgent.indexOf('mobi') >= 0:\n      return 'Mobile';\n    default:\n      return 'Others';\n  }\n};\n\nconst browserFromUserAgent = (userAgent) => {\n  const lowerUserAgent = userAgent.toLowerCase();\n\n  switch (true) {\n    case lowerUserAgent.indexOf('opera') >= 0 || lowerUserAgent.indexOf('opr') >= 0:\n      return 'Opera';\n    case lowerUserAgent.indexOf('firefox') >= 0:\n      return 'Firefox';\n    case lowerUserAgent.indexOf('chrome') >= 0:\n      return 'Chrome';\n    case lowerUserAgent.indexOf('safari') >= 0:\n      return 'Safari';\n    case lowerUserAgent.indexOf('msie') >= 0:\n      return 'Internet Explorer';\n    default:\n      return 'Others';\n  }\n};\n\nconst extractDomain = (url) => {\n  const domain = url.indexOf('://') > -1 ? url.split('/')[2] : url.split('/')[0];\n\n  return domain.split(':')[0];\n};\n\nconst visitLocationHasProperty = (visitLocation, propertyName) =>\n  !isNil(visitLocation)\n  && !isNil(visitLocation[propertyName])\n  && !isEmpty(visitLocation[propertyName]);\n\nconst updateOsStatsForVisit = (osStats, { userAgent }) => {\n  const os = isNil(userAgent) ? 'Others' : osFromUserAgent(userAgent);\n\n  osStats[os] = (osStats[os] || 0) + 1;\n};\n\nconst updateBrowsersStatsForVisit = (browsersStats, { userAgent }) => {\n  const browser = isNil(userAgent) ? 'Others' : browserFromUserAgent(userAgent);\n\n  browsersStats[browser] = (browsersStats[browser] || 0) + 1;\n};\n\nconst updateReferrersStatsForVisit = (referrersStats, { referer }) => {\n  const notHasDomain = isNil(referer) || isEmpty(referer);\n  const domain = notHasDomain ? 'Unknown' : extractDomain(referer);\n\n  referrersStats[domain] = (referrersStats[domain] || 0) + 1;\n};\n\nconst updateLocationsStatsForVisit = (propertyName) => (stats, { visitLocation }) => {\n  const hasLocationProperty = visitLocationHasProperty(visitLocation, propertyName);\n  const value = hasLocationProperty ? visitLocation[propertyName] : 'Unknown';\n\n  stats[value] = (stats[value] || 0) + 1;\n};\n\nconst updateCountriesStatsForVisit = updateLocationsStatsForVisit('countryName');\nconst updateCitiesStatsForVisit = updateLocationsStatsForVisit('cityName');\n\nconst updateCitiesForMapForVisit = (citiesForMapStats, { visitLocation }) => {\n  if (!visitLocationHasProperty(visitLocation, 'cityName')) {\n    return;\n  }\n\n  const { cityName, latitude, longitude } = visitLocation;\n  const currentCity = citiesForMapStats[cityName] || {\n    cityName,\n    count: 0,\n    latLong: [ parseFloat(latitude), parseFloat(longitude) ],\n  };\n\n  currentCity.count++;\n\n  citiesForMapStats[cityName] = currentCity;\n};\n\nexport const processStatsFromVisits = memoizeWith(prop('id'), ({ visits }) =>\n  visits.reduce(\n    (stats, visit) => {\n      // We mutate the original object because it has a big side effect when large data sets are processed\n      updateOsStatsForVisit(stats.os, visit);\n      updateBrowsersStatsForVisit(stats.browsers, visit);\n      updateReferrersStatsForVisit(stats.referrers, visit);\n      updateCountriesStatsForVisit(stats.countries, visit);\n      updateCitiesStatsForVisit(stats.cities, visit);\n      updateCitiesForMapForVisit(stats.citiesForMap, visit);\n\n      return stats;\n    },\n    { os: {}, browsers: {}, referrers: {}, countries: {}, cities: {}, citiesForMap: {} }\n  ));\n","import ShortUrlVisits from '../ShortUrlVisits';\nimport { cancelGetShortUrlVisits, getShortUrlVisits } from '../reducers/shortUrlVisits';\nimport { getShortUrlDetail } from '../reducers/shortUrlDetail';\nimport OpenMapModalBtn from '../helpers/OpenMapModalBtn';\nimport MapModal from '../helpers/MapModal';\nimport * as visitsParser from './VisitsParser';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('OpenMapModalBtn', OpenMapModalBtn, 'MapModal');\n  bottle.serviceFactory('MapModal', () => MapModal);\n  bottle.serviceFactory('ShortUrlVisits', ShortUrlVisits, 'VisitsParser', 'OpenMapModalBtn');\n  bottle.decorator('ShortUrlVisits', connect(\n    [ 'shortUrlVisits', 'shortUrlDetail' ],\n    [ 'getShortUrlVisits', 'getShortUrlDetail', 'cancelGetShortUrlVisits' ]\n  ));\n\n  // Services\n  bottle.serviceFactory('VisitsParser', () => visitsParser);\n\n  // Actions\n  bottle.serviceFactory('getShortUrlVisits', getShortUrlVisits, 'buildShlinkApiClient');\n  bottle.serviceFactory('getShortUrlDetail', getShortUrlDetail, 'buildShlinkApiClient');\n  bottle.serviceFactory('cancelGetShortUrlVisits', () => cancelGetShortUrlVisits);\n};\n\nexport default provideServices;\n","import React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { colorGeneratorType } from '../../utils/services/ColorGenerator';\nimport './TagBullet.scss';\n\nconst propTypes = {\n  tag: PropTypes.string.isRequired,\n  colorGenerator: colorGeneratorType,\n};\n\nconst TagBullet = ({ tag, colorGenerator }) => (\n  <div\n    style={{ backgroundColor: colorGenerator.getColorForKey(tag) }}\n    className=\"tag-bullet\"\n  />\n);\n\nTagBullet.propTypes = propTypes;\n\nexport default TagBullet;\n","import React from 'react';\nimport TagsInput from 'react-tagsinput';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { identity } from 'ramda';\nimport TagBullet from './TagBullet';\nimport './TagsSelector.scss';\n\nconst TagsSelector = (colorGenerator) => class TagsSelector extends React.Component {\n  static propTypes = {\n    tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onChange: PropTypes.func.isRequired,\n    listTags: PropTypes.func,\n    placeholder: PropTypes.string,\n    tagsList: PropTypes.shape({\n      tags: PropTypes.arrayOf(PropTypes.string),\n    }),\n  };\n  static defaultProps = {\n    placeholder: 'Add tags to the URL',\n  };\n\n  componentDidMount() {\n    const { listTags } = this.props;\n\n    listTags();\n  }\n\n  render() {\n    const { tags, onChange, placeholder, tagsList } = this.props;\n    const renderTag = ({ tag, key, disabled, onRemove, classNameRemove, getTagDisplayValue, ...other }) => (\n      <span key={key} style={{ backgroundColor: colorGenerator.getColorForKey(tag) }} {...other}>\n        {getTagDisplayValue(tag)}\n        {!disabled && <span className={classNameRemove} onClick={() => onRemove(key)} />}\n      </span>\n    );\n    const renderAutocompleteInput = (data) => {\n      const { addTag, ...otherProps } = data;\n      const handleOnChange = (e, { method }) => {\n        method === 'enter' ? e.preventDefault() : otherProps.onChange(e);\n      };\n\n      // eslint-disable-next-line no-extra-parens\n      const inputValue = (otherProps.value && otherProps.value.trim().toLowerCase()) || '';\n      const inputLength = inputValue.length;\n      const suggestions = tagsList.tags.filter((state) => state.toLowerCase().slice(0, inputLength) === inputValue);\n\n      return (\n        <Autosuggest\n          ref={otherProps.ref}\n          suggestions={suggestions}\n          inputProps={{ ...otherProps, onChange: handleOnChange }}\n          highlightFirstSuggestion\n          shouldRenderSuggestions={(value) => value && value.trim().length > 0}\n          getSuggestionValue={(suggestion) => suggestion}\n          renderSuggestion={(suggestion) => (\n            <React.Fragment>\n              <TagBullet tag={suggestion} colorGenerator={colorGenerator} />\n              {suggestion}\n            </React.Fragment>\n          )}\n          onSuggestionSelected={(e, { suggestion }) => {\n            addTag(suggestion);\n          }}\n          onSuggestionsClearRequested={identity}\n          onSuggestionsFetchRequested={identity}\n        />\n      );\n    };\n\n    return (\n      <TagsInput\n        value={tags}\n        inputProps={{ placeholder }}\n        onlyUnique\n        renderTag={renderTag}\n        renderInput={renderAutocompleteInput}\n\n        // FIXME Workaround to be able to add tags on Android\n        addOnBlur\n        onChange={onChange}\n      />\n    );\n  }\n};\n\nexport default TagsSelector;\n","import { Card, CardBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash as deleteIcon, faPencilAlt as editIcon } from '@fortawesome/free-solid-svg-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport TagBullet from './helpers/TagBullet';\nimport './TagCard.scss';\n\nconst TagCard = (DeleteTagConfirmModal, EditTagModal, colorGenerator) => class TagCard extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string,\n    currentServerId: PropTypes.string,\n  };\n\n  state = { isDeleteModalOpen: false, isEditModalOpen: false };\n\n  render() {\n    const { tag, currentServerId } = this.props;\n    const toggleDelete = () =>\n      this.setState(({ isDeleteModalOpen }) => ({ isDeleteModalOpen: !isDeleteModalOpen }));\n    const toggleEdit = () =>\n      this.setState(({ isEditModalOpen }) => ({ isEditModalOpen: !isEditModalOpen }));\n\n    return (\n      <Card className=\"tag-card\">\n        <CardBody className=\"tag-card__body\">\n          <button className=\"btn btn-light btn-sm tag-card__btn tag-card__btn--last\" onClick={toggleDelete}>\n            <FontAwesomeIcon icon={deleteIcon} />\n          </button>\n          <button className=\"btn btn-light btn-sm tag-card__btn\" onClick={toggleEdit}>\n            <FontAwesomeIcon icon={editIcon} />\n          </button>\n          <h5 className=\"tag-card__tag-title\">\n            <TagBullet tag={tag} colorGenerator={colorGenerator} />\n            <Link to={`/server/${currentServerId}/list-short-urls/1?tag=${tag}`}>{tag}</Link>\n          </h5>\n        </CardBody>\n\n        <DeleteTagConfirmModal tag={tag} toggle={toggleDelete} isOpen={this.state.isDeleteModalOpen} />\n        <EditTagModal tag={tag} toggle={toggleEdit} isOpen={this.state.isEditModalOpen} />\n      </Card>\n    );\n  }\n};\n\nexport default TagCard;\n","import { handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const DELETE_TAG_START = 'shlink/deleteTag/DELETE_TAG_START';\nexport const DELETE_TAG_ERROR = 'shlink/deleteTag/DELETE_TAG_ERROR';\nexport const DELETE_TAG = 'shlink/deleteTag/DELETE_TAG';\nexport const TAG_DELETED = 'shlink/deleteTag/TAG_DELETED';\n/* eslint-enable padding-line-between-statements */\n\nexport const tagDeleteType = PropTypes.shape({\n  deleting: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  deleting: false,\n  error: false,\n};\n\nexport default handleActions({\n  [DELETE_TAG_START]: () => ({ deleting: true, error: false }),\n  [DELETE_TAG_ERROR]: () => ({ deleting: false, error: true }),\n  [DELETE_TAG]: () => ({ deleting: false, error: false }),\n}, initialState);\n\nexport const deleteTag = (buildShlinkApiClient) => (tag) => async (dispatch, getState) => {\n  dispatch({ type: DELETE_TAG_START });\n\n  const { deleteTags } = await buildShlinkApiClient(getState);\n\n  try {\n    await deleteTags([ tag ]);\n    dispatch({ type: DELETE_TAG });\n  } catch (e) {\n    dispatch({ type: DELETE_TAG_ERROR });\n\n    throw e;\n  }\n};\n\nexport const tagDeleted = (tag) => ({ type: TAG_DELETED, tag });\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { tagDeleteType } from '../reducers/tagDelete';\n\nexport default class DeleteTagConfirmModal extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string.isRequired,\n    toggle: PropTypes.func.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    deleteTag: PropTypes.func,\n    tagDelete: tagDeleteType,\n    tagDeleted: PropTypes.func,\n  };\n\n  doDelete = async () => {\n    const { tag, toggle, deleteTag } = this.props;\n\n    await deleteTag(tag);\n    this.tagWasDeleted = true;\n    toggle();\n  };\n  handleOnClosed = () => {\n    if (!this.tagWasDeleted) {\n      return;\n    }\n\n    const { tagDeleted, tag } = this.props;\n\n    tagDeleted(tag);\n  };\n\n  componentDidMount() {\n    this.tagWasDeleted = false;\n  }\n\n  render() {\n    const { tag, toggle, isOpen, tagDelete } = this.props;\n\n    return (\n      <Modal toggle={toggle} isOpen={isOpen} centered onClosed={this.handleOnClosed}>\n        <ModalHeader toggle={toggle}>\n          <span className=\"text-danger\">Delete tag</span>\n        </ModalHeader>\n        <ModalBody>\n          Are you sure you want to delete tag <b>{tag}</b>?\n          {tagDelete.error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while deleting the tag :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n          <button\n            className=\"btn btn-danger\"\n            disabled={tagDelete.deleting}\n            onClick={() => this.doDelete()}\n          >\n            {tagDelete.deleting ? 'Deleting tag...' : 'Delete tag'}\n          </button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Popover } from 'reactstrap';\nimport { ChromePicker } from 'react-color';\nimport { faPalette as colorIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport './EditTagModal.scss';\n\nconst EditTagModal = ({ getColorForKey }) => class EditTagModal extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string,\n    editTag: PropTypes.func,\n    toggle: PropTypes.func,\n    tagEdited: PropTypes.func,\n    isOpen: PropTypes.bool,\n    tagEdit: PropTypes.shape({\n      error: PropTypes.bool,\n      editing: PropTypes.bool,\n    }),\n  };\n\n  saveTag = (e) => {\n    e.preventDefault();\n    const { tag: oldName, editTag, toggle } = this.props;\n    const { tag: newName, color } = this.state;\n\n    editTag(oldName, newName, color)\n      .then(() => {\n        this.tagWasEdited = true;\n        toggle();\n      })\n      .catch(() => {});\n  };\n  handleOnClosed = () => {\n    if (!this.tagWasEdited) {\n      return;\n    }\n\n    const { tag: oldName, tagEdited } = this.props;\n    const { tag: newName, color } = this.state;\n\n    tagEdited(oldName, newName, color);\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { tag } = props;\n\n    this.state = {\n      showColorPicker: false,\n      tag,\n      color: getColorForKey(tag),\n    };\n  }\n\n  componentDidMount() {\n    this.tagWasEdited = false;\n  }\n\n  render() {\n    const { isOpen, toggle, tagEdit } = this.props;\n    const { tag, color } = this.state;\n    const toggleColorPicker = () =>\n      this.setState(({ showColorPicker }) => ({ showColorPicker: !showColorPicker }));\n\n    return (\n      <Modal isOpen={isOpen} toggle={toggle} centered onClosed={this.handleOnClosed}>\n        <form onSubmit={(e) => this.saveTag(e)}>\n          <ModalHeader toggle={toggle}>Edit tag</ModalHeader>\n          <ModalBody>\n            <div className=\"input-group\">\n              <div\n                className=\"input-group-prepend\"\n                id=\"colorPickerBtn\"\n                onClick={toggleColorPicker}\n              >\n                <div\n                  className=\"input-group-text edit-tag-modal__color-picker-toggle\"\n                  style={{\n                    backgroundColor: color,\n                    borderColor: color,\n                  }}\n                >\n                  <FontAwesomeIcon icon={colorIcon} className=\"edit-tag-modal__color-icon\" />\n                </div>\n              </div>\n              <Popover\n                isOpen={this.state.showColorPicker}\n                toggle={toggleColorPicker}\n                target=\"colorPickerBtn\"\n                placement=\"right\"\n              >\n                <ChromePicker\n                  color={color}\n                  disableAlpha\n                  onChange={(color) => this.setState({ color: color.hex })}\n                />\n              </Popover>\n              <input\n                type=\"text\"\n                value={tag}\n                placeholder=\"Tag\"\n                required\n                className=\"form-control\"\n                onChange={(e) => this.setState({ tag: e.target.value })}\n              />\n            </div>\n\n            {tagEdit.error && (\n              <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n                Something went wrong while editing the tag :(\n              </div>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <button type=\"button\" className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={tagEdit.editing}>\n              {tagEdit.editing ? 'Saving...' : 'Save'}\n            </button>\n          </ModalFooter>\n        </form>\n      </Modal>\n    );\n  }\n};\n\nexport default EditTagModal;\n","import React from 'react';\nimport { splitEvery } from 'ramda';\nimport PropTypes from 'prop-types';\nimport MuttedMessage from '../utils/MuttedMessage';\nimport SearchField from '../utils/SearchField';\n\nconst { ceil } = Math;\nconst TAGS_GROUPS_AMOUNT = 4;\n\nconst TagsList = (TagCard) => class TagsList extends React.Component {\n  static propTypes = {\n    filterTags: PropTypes.func,\n    forceListTags: PropTypes.func,\n    tagsList: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.bool,\n      filteredTags: PropTypes.arrayOf(PropTypes.string),\n    }),\n    match: PropTypes.object,\n  };\n\n  componentDidMount() {\n    const { forceListTags } = this.props;\n\n    forceListTags();\n  }\n\n  renderContent() {\n    const { tagsList, match } = this.props;\n\n    if (tagsList.loading) {\n      return <MuttedMessage marginSize={0}>Loading...</MuttedMessage>;\n    }\n\n    if (tagsList.error) {\n      return (\n        <div className=\"col-12\">\n          <div className=\"bg-danger p-2 text-white text-center\">Error loading tags :(</div>\n        </div>\n      );\n    }\n\n    const tagsCount = tagsList.filteredTags.length;\n\n    if (tagsCount < 1) {\n      return <MuttedMessage>No tags found</MuttedMessage>;\n    }\n\n    const tagsGroups = splitEvery(ceil(tagsCount / TAGS_GROUPS_AMOUNT), tagsList.filteredTags);\n\n    return (\n      <React.Fragment>\n        {tagsGroups.map((group, index) => (\n          <div key={index} className=\"col-md-6 col-xl-3\">\n            {group.map((tag) => (\n              <TagCard\n                key={tag}\n                tag={tag}\n                currentServerId={match.params.serverId}\n              />\n            ))}\n          </div>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { filterTags } = this.props;\n\n    return (\n      <div className=\"shlink-container\">\n        {!this.props.tagsList.loading &&\n          <SearchField className=\"mb-3\" placeholder=\"Search tags...\" onChange={filterTags} />\n        }\n        <div className=\"row\">\n          {this.renderContent()}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default TagsList;\n","import { pick } from 'ramda';\nimport { handleActions } from 'redux-actions';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_TAG_START = 'shlink/editTag/EDIT_TAG_START';\nexport const EDIT_TAG_ERROR = 'shlink/editTag/EDIT_TAG_ERROR';\nexport const EDIT_TAG = 'shlink/editTag/EDIT_TAG';\n/* eslint-enable padding-line-between-statements */\n\nexport const TAG_EDITED = 'shlink/editTag/TAG_EDITED';\n\nconst initialState = {\n  oldName: '',\n  newName: '',\n  editing: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_TAG_START]: (state) => ({ ...state, editing: true, error: false }),\n  [EDIT_TAG_ERROR]: (state) => ({ ...state, editing: false, error: true }),\n  [EDIT_TAG]: (state, action) => ({\n    ...pick([ 'oldName', 'newName' ], action),\n    editing: false,\n    error: false,\n  }),\n}, initialState);\n\nexport const editTag = (buildShlinkApiClient, colorGenerator) => (oldName, newName, color) => async (\n  dispatch,\n  getState\n) => {\n  dispatch({ type: EDIT_TAG_START });\n\n  const { editTag } = await buildShlinkApiClient(getState);\n\n  try {\n    await editTag(oldName, newName);\n    colorGenerator.setColorForKey(newName, color);\n    dispatch({ type: EDIT_TAG, oldName, newName });\n  } catch (e) {\n    dispatch({ type: EDIT_TAG_ERROR });\n\n    throw e;\n  }\n};\n\nexport const tagEdited = (oldName, newName, color) => ({\n  type: TAG_EDITED,\n  oldName,\n  newName,\n  color,\n});\n","import { handleActions } from 'redux-actions';\nimport { isEmpty, reject } from 'ramda';\nimport { TAG_DELETED } from './tagDelete';\nimport { TAG_EDITED } from './tagEdit';\n\n/* eslint-disable padding-line-between-statements */\nexport const LIST_TAGS_START = 'shlink/tagsList/LIST_TAGS_START';\nexport const LIST_TAGS_ERROR = 'shlink/tagsList/LIST_TAGS_ERROR';\nexport const LIST_TAGS = 'shlink/tagsList/LIST_TAGS';\nexport const FILTER_TAGS = 'shlink/tagsList/FILTER_TAGS';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = {\n  tags: [],\n  filteredTags: [],\n  loading: false,\n  error: false,\n};\n\nconst renameTag = (oldName, newName) => (tag) => tag === oldName ? newName : tag;\nconst rejectTag = (tags, tagToReject) => reject((tag) => tag === tagToReject, tags);\n\nexport default handleActions({\n  [LIST_TAGS_START]: (state) => ({ ...state, loading: true, error: false }),\n  [LIST_TAGS_ERROR]: (state) => ({ ...state, loading: false, error: true }),\n  [LIST_TAGS]: (state, { tags }) => ({ tags, filteredTags: tags, loading: false, error: false }),\n  [TAG_DELETED]: (state, { tag }) => ({\n    ...state,\n    tags: rejectTag(state.tags, tag),\n    filteredTags: rejectTag(state.filteredTags, tag),\n  }),\n  [TAG_EDITED]: (state, { oldName, newName }) => ({\n    ...state,\n    tags: state.tags.map(renameTag(oldName, newName)).sort(),\n    filteredTags: state.filteredTags.map(renameTag(oldName, newName)).sort(),\n  }),\n  [FILTER_TAGS]: (state, { searchTerm }) => ({\n    ...state,\n    filteredTags: state.tags.filter((tag) => tag.toLowerCase().match(searchTerm)),\n  }),\n}, initialState);\n\nexport const listTags = (buildShlinkApiClient, force = true) => () => async (dispatch, getState) => {\n  const { tagsList } = getState();\n\n  if (!force && (tagsList.loading || !isEmpty(tagsList.tags))) {\n    return;\n  }\n\n  dispatch({ type: LIST_TAGS_START });\n\n  try {\n    const { listTags } = await buildShlinkApiClient(getState);\n    const tags = await listTags();\n\n    dispatch({ tags, type: LIST_TAGS });\n  } catch (e) {\n    dispatch({ type: LIST_TAGS_ERROR });\n  }\n};\n\nexport const filterTags = (searchTerm) => ({\n  type: FILTER_TAGS,\n  searchTerm,\n});\n","import TagsSelector from '../helpers/TagsSelector';\nimport TagCard from '../TagCard';\nimport DeleteTagConfirmModal from '../helpers/DeleteTagConfirmModal';\nimport EditTagModal from '../helpers/EditTagModal';\nimport TagsList from '../TagsList';\nimport { filterTags, listTags } from '../reducers/tagsList';\nimport { deleteTag, tagDeleted } from '../reducers/tagDelete';\nimport { editTag, tagEdited } from '../reducers/tagEdit';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('TagsSelector', TagsSelector, 'ColorGenerator');\n  bottle.decorator('TagsSelector', connect([ 'tagsList' ], [ 'listTags' ]));\n\n  bottle.serviceFactory('TagCard', TagCard, 'DeleteTagConfirmModal', 'EditTagModal', 'ColorGenerator');\n\n  bottle.serviceFactory('DeleteTagConfirmModal', () => DeleteTagConfirmModal);\n  bottle.decorator('DeleteTagConfirmModal', connect([ 'tagDelete' ], [ 'deleteTag', 'tagDeleted' ]));\n\n  bottle.serviceFactory('EditTagModal', EditTagModal, 'ColorGenerator');\n  bottle.decorator('EditTagModal', connect([ 'tagEdit' ], [ 'editTag', 'tagEdited' ]));\n\n  bottle.serviceFactory('TagsList', TagsList, 'TagCard');\n  bottle.decorator('TagsList', connect([ 'tagsList' ], [ 'forceListTags', 'filterTags' ]));\n\n  // Actions\n  const listTagsActionFactory = (force) => ({ buildShlinkApiClient }) => listTags(buildShlinkApiClient, force);\n\n  bottle.factory('listTags', listTagsActionFactory(false));\n  bottle.factory('forceListTags', listTagsActionFactory(true));\n  bottle.serviceFactory('filterTags', () => filterTags);\n  bottle.serviceFactory('tagDeleted', () => tagDeleted);\n  bottle.serviceFactory('tagEdited', () => tagEdited);\n\n  bottle.serviceFactory('deleteTag', deleteTag, 'buildShlinkApiClient');\n  bottle.serviceFactory('editTag', editTag, 'buildShlinkApiClient', 'ColorGenerator');\n};\n\nexport default provideServices;\n","import Bottle from 'bottlejs';\nimport { withRouter } from 'react-router-dom';\nimport { connect as reduxConnect } from 'react-redux';\nimport { pick } from 'ramda';\nimport App from '../App';\nimport provideCommonServices from '../common/services/provideServices';\nimport provideShortUrlsServices from '../short-urls/services/provideServices';\nimport provideServersServices from '../servers/services/provideServices';\nimport provideVisitsServices from '../visits/services/provideServices';\nimport provideTagsServices from '../tags/services/provideServices';\nimport provideUtilsServices from '../utils/services/provideServices';\n\nconst bottle = new Bottle();\nconst { container } = bottle;\n\nconst lazyService = (container, serviceName) => (...args) => container[serviceName](...args);\nconst mapActionService = (map, actionName) => ({\n  ...map,\n\n  // Wrap actual action service in a function so that it is lazily created the first time it is called\n  [actionName]: lazyService(container, actionName),\n});\nconst connect = (propsFromState, actionServiceNames = []) =>\n  reduxConnect(\n    propsFromState ? pick(propsFromState) : null,\n    actionServiceNames.reduce(mapActionService, {})\n  );\n\nbottle.serviceFactory('App', App, 'MainHeader', 'Home', 'MenuLayout', 'CreateServer');\n\nprovideCommonServices(bottle, connect, withRouter);\nprovideShortUrlsServices(bottle, connect);\nprovideServersServices(bottle, connect, withRouter);\nprovideTagsServices(bottle, connect);\nprovideVisitsServices(bottle, connect);\nprovideUtilsServices(bottle);\n\nexport default container;\n","import { combineReducers } from 'redux';\nimport serversReducer from '../servers/reducers/server';\nimport selectedServerReducer from '../servers/reducers/selectedServer';\nimport shortUrlsListReducer from '../short-urls/reducers/shortUrlsList';\nimport shortUrlsListParamsReducer from '../short-urls/reducers/shortUrlsListParams';\nimport shortUrlCreationReducer from '../short-urls/reducers/shortUrlCreation';\nimport shortUrlDeletionReducer from '../short-urls/reducers/shortUrlDeletion';\nimport shortUrlTagsReducer from '../short-urls/reducers/shortUrlTags';\nimport shortUrlMetaReducer from '../short-urls/reducers/shortUrlMeta';\nimport shortUrlVisitsReducer from '../visits/reducers/shortUrlVisits';\nimport shortUrlDetailReducer from '../visits/reducers/shortUrlDetail';\nimport tagsListReducer from '../tags/reducers/tagsList';\nimport tagDeleteReducer from '../tags/reducers/tagDelete';\nimport tagEditReducer from '../tags/reducers/tagEdit';\n\nexport default combineReducers({\n  servers: serversReducer,\n  selectedServer: selectedServerReducer,\n  shortUrlsList: shortUrlsListReducer,\n  shortUrlsListParams: shortUrlsListParamsReducer,\n  shortUrlCreationResult: shortUrlCreationReducer,\n  shortUrlDeletion: shortUrlDeletionReducer,\n  shortUrlTags: shortUrlTagsReducer,\n  shortUrlMeta: shortUrlMetaReducer,\n  shortUrlVisits: shortUrlVisitsReducer,\n  shortUrlDetail: shortUrlDetailReducer,\n  tagsList: tagsListReducer,\n  tagDelete: tagDeleteReducer,\n  tagEdit: tagEditReducer,\n});\n","import ReduxThunk from 'redux-thunk';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport reducers from '../reducers';\n\nconst composeEnhancers = process.env.NODE_ENV !== 'production' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  : compose;\n\nconst store = createStore(reducers, composeEnhancers(\n  applyMiddleware(ReduxThunk)\n));\n\nexport default store;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { homepage } from '../package.json';\nimport registerServiceWorker from './registerServiceWorker';\nimport container from './container';\nimport store from './container/store';\nimport { fixLeafletIcons } from './utils/utils';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'leaflet/dist/leaflet.css';\nimport './common/react-tagsinput.scss';\nimport './index.scss';\n\n// This overwrites icons used for leaflet maps, fixing some issues caused by webpack while processing the CSS\nfixLeafletIcons();\n\nconst { App, ScrollToTop, ErrorHandler } = container;\n\nrender(\n  <Provider store={store}>\n    <BrowserRouter basename={homepage}>\n      <ErrorHandler>\n        <ScrollToTop>\n          <App />\n        </ScrollToTop>\n      </ErrorHandler>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\nregisterServiceWorker();\n"],"sourceRoot":""}